import{d as ne,h as k,c as cn,ax as sn,a6 as je,u as Ve,aE as un,P as F,f as E,aB as ge,a5 as fn,O as L,aK as N,v as O,a as m,b as H,x as P,a$ as _e,z as Wn,A as Jn,a8 as le,ak as Q,e as Ae,B as Qn,i as nn,g as hn,a4 as Zn,b0 as bn,a1 as et,J as nt,ai as tt,ar as ot,N as rt,al as Ue,ad as at,b1 as gn,av as tn,aX as lt,b2 as dt,b3 as on,y as Ke,aC as it,a9 as Ce,R as Ne,ae as rn,b4 as an,am as ct,ao as st,b5 as ln,at as ut,_ as ft,o as vn,j as yn,k as Te,l as kn,w as xn,q as ht,aS as bt,F as gt,b6 as mn}from"./index.71e0460d.js";import{e as vt,V as yt,N as kt}from"./Empty.c5e46e3b.js";function pn(e){return typeof e=="string"?`s-${e}`:`n-${e}`}var xt=ne({name:"Switcher",render(){return k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},k("path",{d:"M12 8l10 8l-10 8z"}))}}),mt={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px"};const pt=e=>{const{baseColor:t,inputColorDisabled:a,cardColor:i,modalColor:r,popoverColor:d,textColorDisabled:g,borderColor:u,primaryColor:h,textColor2:v,fontSizeSmall:b,fontSizeMedium:p,fontSizeLarge:y,borderRadiusSmall:l,lineHeight:x}=e;return Object.assign(Object.assign({},mt),{labelLineHeight:x,fontSizeSmall:b,fontSizeMedium:p,fontSizeLarge:y,borderRadius:l,color:t,colorChecked:h,colorDisabled:a,colorDisabledChecked:a,colorTableHeader:i,colorTableHeaderModal:r,colorTableHeaderPopover:d,checkMarkColor:t,checkMarkColorDisabled:g,checkMarkColorDisabledChecked:g,border:`1px solid ${u}`,borderDisabled:`1px solid ${u}`,borderDisabledChecked:`1px solid ${u}`,borderChecked:`1px solid ${h}`,borderFocus:`1px solid ${h}`,boxShadowFocus:`0 0 0 2px ${sn(h,{alpha:.3})}`,textColor:v,textColorDisabled:g})},Ct={name:"Checkbox",common:cn,self:pt};var Cn=Ct,wt=k("svg",{viewBox:"0 0 64 64",class:"check-icon"},k("path",{d:"M50.42,16.76L22.34,39.45l-8.1-11.46c-1.12-1.58-3.3-1.96-4.88-0.84c-1.58,1.12-1.95,3.3-0.84,4.88l10.26,14.51  c0.56,0.79,1.42,1.31,2.38,1.45c0.16,0.02,0.32,0.03,0.48,0.03c0.8,0,1.57-0.27,2.2-0.78l30.99-25.03c1.5-1.21,1.74-3.42,0.52-4.92  C54.13,15.78,51.93,15.55,50.42,16.76z"})),St=k("svg",{viewBox:"0 0 100 100",class:"line-icon"},k("path",{d:"M80.2,55.5H21.4c-2.8,0-5.1-2.5-5.1-5.5l0,0c0-3,2.3-5.5,5.1-5.5h58.7c2.8,0,5.1,2.5,5.1,5.5l0,0C85.2,53.1,82.9,55.5,80.2,55.5z"}));const wn=je("n-checkbox-group"),Rt={min:Number,max:Number,size:String,value:Array,defaultValue:{type:Array,default:null},disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:{type:[Function,Array],validator:()=>!0,default:void 0}};ne({name:"CheckboxGroup",props:Rt,setup(e){const{mergedClsPrefixRef:t}=Ve(e),a=un(e),{mergedSizeRef:i,mergedDisabledRef:r}=a,d=F(e.defaultValue),g=E(()=>e.value),u=ge(g,d),h=E(()=>{var p;return((p=u.value)===null||p===void 0?void 0:p.length)||0}),v=E(()=>Array.isArray(u.value)?new Set(u.value):new Set);function b(p,y){const{nTriggerFormInput:l,nTriggerFormChange:x}=a,{onChange:S,"onUpdate:value":D,onUpdateValue:T}=e;if(Array.isArray(u.value)){const R=Array.from(u.value),B=R.findIndex(z=>z===y);p?~B||(R.push(y),T&&N(T,R),D&&N(D,R),l(),x(),d.value=R,S&&N(S,R)):~B&&(R.splice(B,1),T&&N(T,R),D&&N(D,R),S&&N(S,R),d.value=R,l(),x())}else p?(T&&N(T,[y]),D&&N(D,[y]),S&&N(S,[y]),d.value=[y],l(),x()):(T&&N(T,[]),D&&N(D,[]),S&&N(S,[]),d.value=[],l(),x())}return fn(wn,{checkedCountRef:h,maxRef:L(e,"max"),minRef:L(e,"min"),valueSetRef:v,disabledRef:r,mergedSizeRef:i,toggleCheckbox:b}),{mergedClsPrefix:t}},render(){return k("div",{class:`${this.mergedClsPrefix}-checkbox-group`,role:"group"},this.$slots)}});var Kt=O([m("checkbox",`
 line-height: var(--n-label-line-height);
 font-size: var(--n-font-size);
 outline: none;
 cursor: pointer;
 display: inline-flex;
 flex-wrap: nowrap;
 align-items: flex-start;
 word-break: break-word;
 --n-merged-color-table: var(--n-color-table);
 `,[O("&:hover",[m("checkbox-box",[H("border",{border:"var(--n-border-checked)"})])]),O("&:focus:not(:active)",[m("checkbox-box",[H("border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),P("inside-table",[m("checkbox-box",`
 background-color: var(--n-merged-color-table);
 `)]),P("checked",[m("checkbox-box",`
 background-color: var(--n-color-checked);
 `,[m("checkbox-icon",[O(".check-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),P("indeterminate",[m("checkbox-box",[m("checkbox-icon",[O(".check-icon",`
 opacity: 0;
 transform: scale(.5);
 `),O(".line-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),P("checked, indeterminate",[O("&:focus:not(:active)",[m("checkbox-box",[H("border",`
 border: var(--n-border-checked);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),m("checkbox-box",`
 background-color: var(--n-color-checked);
 border-left: 0;
 border-top: 0;
 `,[H("border",{border:"var(--n-border-checked)"})])]),P("disabled",{cursor:"not-allowed"},[P("checked",[m("checkbox-box",`
 background-color: var(--n-color-disabled-checked);
 `,[H("border",{border:"var(--n-border-disabled-checked)"}),m("checkbox-icon",[O(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled-checked)"})])])]),m("checkbox-box",`
 background-color: var(--n-color-disabled);
 `,[H("border",{border:"var(--n-border-disabled)"}),m("checkbox-icon",[O(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled)"})])]),H("label",{color:"var(--n-text-color-disabled)"})]),m("checkbox-box-wrapper",`
 position: relative;
 width: var(--n-size);
 flex-shrink: 0;
 flex-grow: 0;
 `),m("checkbox-box",`
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 height: var(--n-size);
 width: var(--n-size);
 display: inline-block;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color 0.3s var(--n-bezier);
 `,[H("border",`
 transition:
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border: var(--n-border);
 `),m("checkbox-icon",`
 display: flex;
 align-items: center;
 justify-content: center;
 position: absolute;
 left: 1px;
 right: 1px;
 top: 1px;
 bottom: 1px;
 `,[O(".check-icon, .line-icon",`
 width: 100%;
 fill: var(--n-check-mark-color);
 opacity: 0;
 transform: scale(0.5);
 transform-origin: center;
 transition:
 fill 0.3s var(--n-bezier),
 transform 0.3s var(--n-bezier),
 opacity 0.3s var(--n-bezier),
 border-color 0.3s var(--n-bezier);
 `),_e({left:"1px",top:"1px"})])]),H("label",`
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 user-select: none;
 padding: var(--n-label-padding);
 `,[O("&:empty",{display:"none"})])]),Wn(m("checkbox",`
 --n-merged-color-table: var(--n-color-table-modal);
 `)),Jn(m("checkbox",`
 --n-merged-color-table: var(--n-color-table-popover);
 `))]);const Nt=Object.assign(Object.assign({},Ae.props),{size:String,checked:{type:[Boolean,String,Number],default:void 0},defaultChecked:{type:[Boolean,String,Number],default:!1},value:[String,Number],disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:String,focusable:{type:Boolean,default:!0},checkedValue:{type:[Boolean,String,Number],default:!0},uncheckedValue:{type:[Boolean,String,Number],default:!1},"onUpdate:checked":[Function,Array],onUpdateChecked:[Function,Array],privateInsideTable:Boolean,onChange:[Function,Array]});var Dt=ne({name:"Checkbox",props:Nt,setup(e){const t=F(null),{mergedClsPrefixRef:a,inlineThemeDisabled:i,mergedRtlRef:r}=Ve(e),d=un(e,{mergedSize(C){const{size:M}=e;if(M!==void 0)return M;if(h){const{value:$}=h.mergedSizeRef;if($!==void 0)return $}if(C){const{mergedSize:$}=C;if($!==void 0)return $.value}return"medium"},mergedDisabled(C){const{disabled:M}=e;if(M!==void 0)return M;if(h){if(h.disabledRef.value)return!0;const{maxRef:{value:$},checkedCountRef:G}=h;if($!==void 0&&G.value>=$&&!y.value)return!0;const{minRef:{value:f}}=h;if(f!==void 0&&G.value<=f&&y.value)return!0}return C?C.disabled.value:!1}}),{mergedDisabledRef:g,mergedSizeRef:u}=d,h=le(wn,null),v=F(e.defaultChecked),b=L(e,"checked"),p=ge(b,v),y=Q(()=>{if(h){const C=h.valueSetRef.value;return C&&e.value!==void 0?C.has(e.value):!1}else return p.value===e.checkedValue}),l=Ae("Checkbox","-checkbox",Kt,Cn,e,a);function x(C){if(h&&e.value!==void 0)h.toggleCheckbox(!y.value,e.value);else{const{onChange:M,"onUpdate:checked":$,onUpdateChecked:G}=e,{nTriggerFormInput:f,nTriggerFormChange:K}=d,_=y.value?e.uncheckedValue:e.checkedValue;$&&N($,_,C),G&&N(G,_,C),M&&N(M,_,C),f(),K(),v.value=_}}function S(C){g.value||x(C)}function D(C){if(!g.value)switch(C.code){case"Space":case"Enter":case"NumpadEnter":x(C)}}function T(C){switch(C.code){case"Space":C.preventDefault()}}const R={focus:()=>{var C;(C=t.value)===null||C===void 0||C.focus()},blur:()=>{var C;(C=t.value)===null||C===void 0||C.blur()}},B=Qn("Checkbox",r,a),z=E(()=>{const{value:C}=u,{common:{cubicBezierEaseInOut:M},self:{borderRadius:$,color:G,colorChecked:f,colorDisabled:K,colorTableHeader:_,colorTableHeaderModal:Z,colorTableHeaderPopover:Le,checkMarkColor:Pe,checkMarkColorDisabled:X,border:te,borderFocus:ve,borderDisabled:Ee,borderChecked:Fe,boxShadowFocus:de,textColor:Ie,textColorDisabled:Se,checkMarkColorDisabledChecked:oe,colorDisabledChecked:ie,borderDisabledChecked:ce,labelPadding:se,labelLineHeight:ue,[nn("fontSize",C)]:ze,[nn("size",C)]:ye}}=l.value;return{"--n-label-line-height":ue,"--n-size":ye,"--n-bezier":M,"--n-border-radius":$,"--n-border":te,"--n-border-checked":Fe,"--n-border-focus":ve,"--n-border-disabled":Ee,"--n-border-disabled-checked":ce,"--n-box-shadow-focus":de,"--n-color":G,"--n-color-checked":f,"--n-color-table":_,"--n-color-table-modal":Z,"--n-color-table-popover":Le,"--n-color-disabled":K,"--n-color-disabled-checked":ie,"--n-text-color":Ie,"--n-text-color-disabled":Se,"--n-check-mark-color":Pe,"--n-check-mark-color-disabled":X,"--n-check-mark-color-disabled-checked":oe,"--n-font-size":ze,"--n-label-padding":se}}),I=i?hn("checkbox",E(()=>u.value[0]),z,e):void 0;return Object.assign(d,R,{rtlEnabled:B,selfRef:t,mergedClsPrefix:a,mergedDisabled:g,renderedChecked:y,mergedTheme:l,labelId:Zn(),handleClick:S,handleKeyUp:D,handleKeyDown:T,cssVars:i?void 0:z,themeClass:I==null?void 0:I.themeClass,onRender:I==null?void 0:I.onRender})},render(){var e;const{$slots:t,renderedChecked:a,mergedDisabled:i,indeterminate:r,privateInsideTable:d,cssVars:g,labelId:u,label:h,mergedClsPrefix:v,focusable:b,handleKeyUp:p,handleKeyDown:y,handleClick:l}=this;return(e=this.onRender)===null||e===void 0||e.call(this),k("div",{ref:"selfRef",class:[`${v}-checkbox`,this.themeClass,this.rtlEnabled&&`${v}-checkbox--rtl`,a&&`${v}-checkbox--checked`,i&&`${v}-checkbox--disabled`,r&&`${v}-checkbox--indeterminate`,d&&`${v}-checkbox--inside-table`],tabindex:i||!b?void 0:0,role:"checkbox","aria-checked":r?"mixed":a,"aria-labelledby":u,style:g,onKeyup:p,onKeydown:y,onClick:l,onMousedown:()=>{et("selectstart",window,x=>{x.preventDefault()},{once:!0})}},k("div",{class:`${v}-checkbox-box-wrapper`},"\xA0",k("div",{class:`${v}-checkbox-box`},k(bn,null,{default:()=>this.indeterminate?k("div",{key:"indeterminate",class:`${v}-checkbox-icon`},St):k("div",{key:"check",class:`${v}-checkbox-icon`},wt)}),k("div",{class:`${v}-checkbox-box__border`}))),h!==null||t.default?k("span",{class:`${v}-checkbox__label`,id:u},t.default?t.default():h):null)}});const _t=e=>{const{borderRadiusSmall:t,hoverColor:a,pressedColor:i,primaryColor:r,textColor3:d,textColor2:g,textColorDisabled:u,fontSize:h}=e;return{fontSize:h,nodeBorderRadius:t,nodeColorHover:a,nodeColorPressed:i,nodeColorActive:sn(r,{alpha:.1}),arrowColor:d,nodeTextColor:g,nodeTextColorDisabled:u,loadingColor:r,dropMarkColor:r}},Tt=nt({name:"Tree",common:cn,peers:{Checkbox:Cn,Scrollbar:tt,Empty:vt},self:_t});var At=Tt;const Sn=je("n-tree-select"),we=je("n-tree");var Lt=ne({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(e){const{renderSwitcherIconRef:t}=le(we,null);return()=>{const{clsPrefix:a}=e;return k("span",{"data-switcher":!0,class:[`${a}-tree-node-switcher`,{[`${a}-tree-node-switcher--expanded`]:e.expanded,[`${a}-tree-node-switcher--hide`]:e.hide}],onClick:e.onClick},k("div",{class:`${a}-tree-node-switcher__icon`},k(bn,null,{default:()=>{if(e.loading)return k(ot,{clsPrefix:a,key:"loading",radius:85,strokeWidth:20});const{value:i}=t;return i?i():k(rt,{clsPrefix:a,key:"switcher"},{default:()=>k(xt,null)})}})))}}}),Pt=ne({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const t=le(we);function a(r){const{onCheck:d}=e;if(d)return d(r)}function i(r){e.indeterminate?a(!1):a(r)}return{handleUpdateValue:i,mergedTheme:t.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:t,checked:a,indeterminate:i,disabled:r,focusable:d,handleUpdateValue:g}=this;return k("span",{class:`${e}-tree-node-checkbox`,"data-checkbox":!0},k(Dt,{focusable:d,disabled:r,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,checked:a,indeterminate:i,onUpdateChecked:g}))}}),Et=ne({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:t,renderPrefixRef:a,renderSuffixRef:i,labelFieldRef:r}=le(we),d=F(null);function g(h){const{onClick:v}=e;v&&v(h)}function u(h){g(h)}return{selfRef:d,renderLabel:t,renderPrefix:a,renderSuffix:i,labelField:r,handleClick:u}},render(){const{clsPrefix:e,labelField:t,nodeProps:a,checked:i=!1,selected:r=!1,renderLabel:d,renderPrefix:g,renderSuffix:u,handleClick:h,onDragstart:v,tmNode:{rawNode:b,rawNode:{prefix:p,suffix:y,[t]:l}}}=this;return k("span",Object.assign({},a,{ref:"selfRef",class:[`${e}-tree-node-content`,a==null?void 0:a.class],onClick:h,draggable:v===void 0?void 0:!0,onDragstart:v}),g||p?k("div",{class:`${e}-tree-node-content__prefix`},g?g({option:b,selected:r,checked:i}):Ue(p)):null,k("div",{class:`${e}-tree-node-content__text`},d?d({option:b,selected:r,checked:i}):Ue(l)),u||y?k("div",{class:`${e}-tree-node-content__suffix`},u?u({option:b,selected:r,checked:i}):Ue(y)):null)}});function dn({position:e,offsetLevel:t,indent:a,el:i}){const r={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")r.left=0,r.top=0,r.bottom=0,r.borderRadius="inherit",r.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const d=e==="before"?"top":"bottom";r[d]=0,r.left=`${i.offsetLeft+6-t*a}px`,r.height="2px",r.backgroundColor="var(--n-drop-mark-color)",r.transformOrigin=d,r.borderRadius="1px",r.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return k("div",{style:r})}function Ft({dropPosition:e,node:t}){return t.isLeaf===!1||t.children?!0:e!=="inside"}const It=ne({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const t=le(we),{droppingNodeParentRef:a,droppingMouseNodeRef:i,draggingNodeRef:r,droppingPositionRef:d,droppingOffsetLevelRef:g,nodePropsRef:u,indentRef:h,blockLineRef:v}=t,b=E(()=>t.disabledRef.value||e.tmNode.disabled),p=E(()=>{const{value:f}=u;if(!!f)return f({option:e.tmNode.rawNode})}),y=F(null),l={value:null};at(()=>{l.value=y.value.$el});function x(){const{tmNode:f}=e;if(!f.isLeaf&&!f.shallowLoaded){t.loadingKeysRef.value.has(f.key)||t.loadingKeysRef.value.add(f.key);const{onLoadRef:{value:K}}=t;K&&K(f.rawNode).then(()=>{t.handleSwitcherClick(f)}).finally(()=>{t.loadingKeysRef.value.delete(f.key)})}else t.handleSwitcherClick(f)}const S=Q(()=>!e.tmNode.disabled&&t.selectableRef.value&&(t.internalTreeSelect?t.mergedCheckStrategyRef.value!=="child"||t.multipleRef.value&&t.cascadeRef.value||e.tmNode.isLeaf:!0));function D(f){!S.value||tn(f,"checkbox")||tn(f,"switcher")||t.handleSelect(e.tmNode)}function T(f){var K,_;v.value||(b.value||D(f),(_=(K=p.value)===null||K===void 0?void 0:K.onClick)===null||_===void 0||_.call(K,f))}function R(f){var K,_;!v.value||(b.value||D(f),(_=(K=p.value)===null||K===void 0?void 0:K.onClick)===null||_===void 0||_.call(K,f))}function B(f){t.handleCheck(e.tmNode,f)}function z(f){t.handleDragStart({event:f,node:e.tmNode})}function I(f){f.currentTarget===f.target&&t.handleDragEnter({event:f,node:e.tmNode})}function C(f){f.preventDefault(),t.handleDragOver({event:f,node:e.tmNode})}function M(f){t.handleDragEnd({event:f,node:e.tmNode})}function $(f){f.currentTarget===f.target&&t.handleDragLeave({event:f,node:e.tmNode})}function G(f){f.preventDefault(),d.value!==null&&t.handleDrop({event:f,node:e.tmNode,dropPosition:d.value})}return{showDropMark:Q(()=>{const{value:f}=r;if(!f)return;const{value:K}=d;if(!K)return;const{value:_}=i;if(!_)return;const{tmNode:Z}=e;return Z.key===_.key}),showDropMarkAsParent:Q(()=>{const{value:f}=a;if(!f)return!1;const{tmNode:K}=e,{value:_}=d;return _==="before"||_==="after"?f.key===K.key:!1}),pending:Q(()=>t.pendingNodeKeyRef.value===e.tmNode.key),loading:Q(()=>t.loadingKeysRef.value.has(e.tmNode.key)),highlight:Q(()=>{var f;return(f=t.highlightKeySetRef.value)===null||f===void 0?void 0:f.has(e.tmNode.key)}),checked:Q(()=>t.displayedCheckedKeysRef.value.includes(e.tmNode.key)),indeterminate:Q(()=>t.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:Q(()=>t.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:Q(()=>t.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:b,checkable:E(()=>t.checkableRef.value&&(t.cascadeRef.value||t.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),checkboxDisabled:E(()=>!!e.tmNode.rawNode.checkboxDisabled),selectable:S,internalScrollable:t.internalScrollableRef,draggable:t.draggableRef,blockLine:v,nodeProps:p,checkboxFocusable:t.internalCheckboxFocusableRef,droppingPosition:d,droppingOffsetLevel:g,indent:h,contentInstRef:y,contentElRef:l,handleCheck:B,handleDrop:G,handleDragStart:z,handleDragEnter:I,handleDragOver:C,handleDragEnd:M,handleDragLeave:$,handleLineClick:R,handleContentClick:T,handleSwitcherClick:x}},render(){const{tmNode:e,clsPrefix:t,checkable:a,selectable:i,selected:r,checked:d,highlight:g,draggable:u,blockLine:h,indent:v,disabled:b,pending:p,internalScrollable:y,nodeProps:l}=this,x=u&&!b?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,S=y?pn(e.key):void 0;return k("div",Object.assign({class:`${t}-tree-node-wrapper`},x),k("div",Object.assign({},h?l:void 0,{class:[`${t}-tree-node`,{[`${t}-tree-node--selected`]:r,[`${t}-tree-node--checkable`]:a,[`${t}-tree-node--highlight`]:g,[`${t}-tree-node--pending`]:p,[`${t}-tree-node--disabled`]:b,[`${t}-tree-node--selectable`]:i},l==null?void 0:l.class],"data-key":S,draggable:u&&h,onClick:this.handleLineClick,onDragstart:u&&h&&!b?this.handleDragStart:void 0}),gn(e.level,k("div",{class:`${t}-tree-node-indent`,style:{flex:`0 0 ${v}px`}})),k(Lt,{clsPrefix:t,expanded:this.expanded,loading:this.loading,hide:e.isLeaf,onClick:this.handleSwitcherClick}),a?k(Pt,{focusable:this.checkboxFocusable,disabled:b||this.checkboxDisabled,clsPrefix:t,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null,k(Et,{ref:"contentInstRef",clsPrefix:t,checked:d,selected:r,onClick:this.handleContentClick,nodeProps:h?void 0:l,onDragstart:u&&!h&&!b?this.handleDragStart:void 0,tmNode:e}),u?this.showDropMark?dn({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:v}):this.showDropMarkAsParent?dn({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:v}):null:null))}});var Rn=It;function Kn(e,t,a,i){e==null||e.forEach(r=>{a(r),Kn(r[t],t,a,i),i(r)})}function zt(e,t,a,i,r){const d=new Set,g=new Set,u=[];return Kn(e,i,h=>{if(u.push(h),r(t,h)){g.add(h[a]);for(let v=u.length-2;v>=0;--v)if(!d.has(u[v][a]))d.add(u[v][a]);else return}},()=>{u.pop()}),{expandedKeys:Array.from(d),highlightKeySet:g}}if(typeof window!="undefined"&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function Bt(e,t,a,i,r){const d=new Set,g=new Set,u=new Set,h=[],v=[],b=[];function p(l){l.forEach(x=>{if(b.push(x),t(a,x)){d.add(x[i]),u.add(x[i]);for(let D=b.length-2;D>=0;--D){const T=b[D][i];if(!g.has(T))g.add(T),d.has(T)&&d.delete(T);else break}}const S=x[r];S&&p(S),b.pop()})}p(e);function y(l,x){l.forEach(S=>{const D=S[i],T=d.has(D),R=g.has(D);if(!T&&!R)return;const B=S[r];if(B)if(T)x.push(S);else{h.push(D);const z=Object.assign(Object.assign({},S),{[r]:[]});x.push(z),y(B,z[r])}else x.push(S)})}return y(e,v),{filteredTree:v,highlightKeySet:u,expandedKeys:h}}function $t({fNodesRef:e,mergedExpandedKeysRef:t,mergedSelectedKeysRef:a,handleSelect:i,handleSwitcherClick:r}){const{value:d}=a,g=le(Sn,null),u=g?g.pendingNodeKeyRef:F(d.length?d[d.length-1]:null);function h(b){const{value:p}=u;if(p===null){if(["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(b.code)&&p===null){const{value:y}=e;let l=0;for(;l<y.length;){if(!y[l].disabled){u.value=y[l].key;break}l+=1}}}else{const{value:y}=e;let l=y.findIndex(x=>x.key===p);if(!~l)return;if(b.code==="Enter"||b.code==="NumpadEnter")i(y[l]);else if(b.code==="ArrowDown")for(l+=1;l<y.length;){if(!y[l].disabled){u.value=y[l].key;break}l+=1}else if(b.code==="ArrowUp")for(l-=1;l>=0;){if(!y[l].disabled){u.value=y[l].key;break}l-=1}else if(b.code==="ArrowLeft"){const x=y[l];if(x.isLeaf||!t.value.includes(p)){const S=x.getParent();S&&(u.value=S.key)}else r(x)}else if(b.code==="ArrowRight"){const x=y[l];if(x.isLeaf)return;if(!t.value.includes(p))r(x);else for(l+=1;l<y.length;){if(!y[l].disabled){u.value=y[l].key;break}l+=1}}}}function v(b){switch(b.code){case"ArrowUp":case"ArrowDown":b.preventDefault()}}return{pendingNodeKeyRef:u,handleKeyup:h,handleKeydown:v}}var Ot=ne({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return k(dt,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>k("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:lt(this.height)}},this.nodes.map(t=>k(Rn,{clsPrefix:e,tmNode:t})))})}}),Mt=m("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[O("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),O(">",[m("tree-node",[O("&:first-child",{marginTop:0})])]),m("tree-node-indent",`
 height: 0;
 `),m("tree-motion-wrapper",[P("expand",[on({duration:"0.2s"})]),P("collapse",[on({duration:"0.2s",reverse:!0})])]),m("tree-node-wrapper",`
 box-sizing: border-box;
 padding: 3px 0;
 `),m("tree-node",`
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[P("highlight",[m("tree-node-content",[H("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),P("disabled",[m("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),Ke("disabled",[P("selectable",[m("tree-node-content",`
 cursor: pointer;
 `)])])]),P("block-node",[m("tree-node-content",`
 width: 100%;
 `)]),Ke("block-line",[m("tree-node",[Ke("disabled",[m("tree-node-content",[O("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),P("selectable",[m("tree-node-content",[O("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),P("pending",[m("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),P("selected",[m("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),P("block-line",[m("tree-node",[Ke("disabled",[O("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),P("selectable",[O("&:active",{backgroundColor:"var(--n-node-color-pressed)"})]),P("pending",`
 background-color: var(--n-node-color-hover);
 `),P("selected",{backgroundColor:"var(--n-node-color-active)"})]),P("disabled",`
 cursor: not-allowed;
 `)])]),m("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[H("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[m("icon",[_e()]),m("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[_e()]),m("base-icon",[_e()])]),P("hide",{visibility:"hidden"}),P("expanded",{transform:"rotate(90deg)"})]),m("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `),P("checkable",[m("tree-node-content",`
 padding: 0 6px;
 `)]),m("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[O("&:last-child",{marginBottom:0}),H("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),H("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow:1;
 `),H("suffix",`
 display: inline-flex;
 `)]),H("empty","margin: auto;")]),Ut=globalThis&&globalThis.__awaiter||function(e,t,a,i){function r(d){return d instanceof a?d:new a(function(g){g(d)})}return new(a||(a=Promise))(function(d,g){function u(b){try{v(i.next(b))}catch(p){g(p)}}function h(b){try{v(i.throw(b))}catch(p){g(p)}}function v(b){b.done?d(b.value):r(b.value).then(u,h)}v((i=i.apply(e,t||[])).next())})};const De=30;function jt(e,t){return{getKey(a){return a[e]},getChildren(a){return a[t]},getDisabled(a){return!!(a.disabled||a.checkboxDisabled)}}}const Vt={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},Ht=Object.assign(Object.assign(Object.assign(Object.assign({},Ae.props),{showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:Ft},animated:{type:Boolean,default:!0},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,renderSwitcherIcon:Function,nodeProps:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),Vt),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean});var qt=ne({name:"Tree",props:Ht,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:a}=Ve(e),i=Ae("Tree","-tree",Mt,At,e,t),r=F(null),d=F(null),g=F(null);function u(){var n;return(n=g.value)===null||n===void 0?void 0:n.listElRef}function h(){var n;return(n=g.value)===null||n===void 0?void 0:n.itemsElRef}const v=E(()=>{const{pattern:n}=e;return n?!n.length||!ye.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:Bt(e.data,ye.value,n,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),b=E(()=>it(e.showIrrelevantNodes?e.data:v.value.filteredTree,jt(e.keyField,e.childrenField))),p=le(Sn,null),y=e.internalTreeSelect?p.dataTreeMate:b,{watchProps:l}=e,x=F([]);l!=null&&l.includes("defaultCheckedKeys")?Ce(()=>{x.value=e.defaultCheckedKeys}):x.value=e.defaultCheckedKeys;const S=L(e,"checkedKeys"),D=ge(S,x),T=E(()=>y.value.getCheckedKeys(D.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),R=E(()=>e.leafOnly?"child":e.checkStrategy),B=E(()=>T.value.checkedKeys),z=E(()=>{const{indeterminateKeys:n}=e;return n!==void 0?n:T.value.indeterminateKeys}),I=F([]);l!=null&&l.includes("defaultSelectedKeys")?Ce(()=>{I.value=e.defaultSelectedKeys}):I.value=e.defaultSelectedKeys;const C=L(e,"selectedKeys"),M=ge(C,I),$=F([]),G=n=>{$.value=e.defaultExpandAll?y.value.getNonLeafKeys():n===void 0?e.defaultExpandedKeys:n};l!=null&&l.includes("defaultExpandedKeys")?Ce(()=>G(void 0)):Ce(()=>G(e.defaultExpandedKeys));const f=L(e,"expandedKeys"),K=ge(f,$),_=E(()=>b.value.getFlattenedNodes(K.value)),{pendingNodeKeyRef:Z,handleKeyup:Le,handleKeydown:Pe}=$t({mergedSelectedKeysRef:M,fNodesRef:_,mergedExpandedKeysRef:K,handleSelect:$e,handleSwitcherClick:Xe});let X=null,te=null;const ve=F(new Set),Ee=E(()=>e.internalHighlightKeySet||v.value.highlightKeySet),Fe=ge(Ee,ve),de=F(new Set),Ie=E(()=>K.value.filter(n=>!de.value.has(n)));let Se=0;const oe=F(null),ie=F(null),ce=F(null),se=F(null),ue=F(0),ze=E(()=>{const{value:n}=ie;return n?n.parent:null}),ye=E(()=>{const{filter:n}=e;if(n)return n;const{labelField:o}=e;return(c,s)=>c.length?s[o].toLowerCase().includes(c.toLowerCase()):!0});Ne(L(e,"data"),()=>{de.value.clear(),Z.value=null,xe()},{deep:!1});let ke;Ne(L(e,"pattern"),(n,o)=>{if(e.showIrrelevantNodes)if(ke=void 0,n){const{expandedKeys:c,highlightKeySet:s}=zt(e.data,e.pattern,e.keyField,e.childrenField,ye.value);ve.value=s,he(c,Y(c))}else ve.value=new Set;else if(!n.length)ke!==void 0&&he(ke,Y(ke));else{o.length||(ke=K.value);const{expandedKeys:c}=v.value;c!==void 0&&he(c,Y(c))}});function He(n){return Ut(this,void 0,void 0,function*(){const{onLoad:o}=e;if(!o)return yield Promise.resolve();const{value:c}=de;return yield new Promise(s=>{c.has(n.key)||(c.add(n.key),o(n.rawNode).then(()=>{c.delete(n.key),s()}).catch(w=>{console.error(w),me()}))})})}Ce(()=>{var n;const{value:o}=b;if(!o)return;const{getNode:c}=o;(n=K.value)===null||n===void 0||n.forEach(s=>{const w=c(s);w&&!w.shallowLoaded&&He(w)})});const fe=F(!1),ee=F([]);Ne(Ie,(n,o)=>{if(!e.animated){rn(Re);return}const c=new Set(o);let s=null,w=null;for(const U of n)if(!c.has(U)){if(s!==null)return;s=U}const W=new Set(n);for(const U of o)if(!W.has(U)){if(w!==null)return;w=U}if(s!==null&&w!==null||s===null&&w===null)return;const{virtualScroll:j}=e,pe=(j?g.value.listElRef:r.value).offsetHeight,ae=Math.ceil(pe/De)+1;if(s!==null){fe.value=!0,ee.value=b.value.getFlattenedNodes(o);const U=ee.value.findIndex(V=>V.key===s);if(~U){const V=an(ee.value[U].children,n);ee.value.splice(U+1,0,{__motion:!0,mode:"expand",height:j?V.length*De:void 0,nodes:j?V.slice(0,ae):V})}}if(w!==null){ee.value=b.value.getFlattenedNodes(n);const U=ee.value.findIndex(V=>V.key===w);if(~U){const V=ee.value[U].children;if(!V)return;fe.value=!0;const J=an(V,n);ee.value.splice(U+1,0,{__motion:!0,mode:"collapse",height:j?J.length*De:void 0,nodes:j?J.slice(0,ae):J})}}});const Nn=E(()=>ct(_.value)),Dn=E(()=>fe.value?ee.value:_.value);function Re(){const{value:n}=d;n&&n.sync()}function _n(){fe.value=!1,e.virtualScroll&&rn(Re)}function Y(n){const{getNode:o}=y.value;return n.map(c=>{var s;return((s=o(c))===null||s===void 0?void 0:s.rawNode)||null})}function he(n,o){const{"onUpdate:expandedKeys":c,onUpdateExpandedKeys:s}=e;$.value=n,c&&N(c,n,o),s&&N(s,n,o)}function qe(n,o){const{"onUpdate:checkedKeys":c,onUpdateCheckedKeys:s}=e;x.value=n,s&&N(s,n,o),c&&N(c,n,o)}function Tn(n,o){const{"onUpdate:indeterminateKeys":c,onUpdateIndeterminateKeys:s}=e;c&&N(c,n,o),s&&N(s,n,o)}function Be(n,o){const{"onUpdate:selectedKeys":c,onUpdateSelectedKeys:s}=e;I.value=n,s&&N(s,n,o),c&&N(c,n,o)}function An(n){const{onDragenter:o}=e;o&&N(o,n)}function Ln(n){const{onDragleave:o}=e;o&&N(o,n)}function Pn(n){const{onDragend:o}=e;o&&N(o,n)}function En(n){const{onDragstart:o}=e;o&&N(o,n)}function Fn(n){const{onDragover:o}=e;o&&N(o,n)}function In(n){const{onDrop:o}=e;o&&N(o,n)}function xe(){zn(),re()}function zn(){oe.value=null}function re(){ue.value=0,ie.value=null,ce.value=null,se.value=null,me()}function me(){X&&(window.clearTimeout(X),X=null),te=null}function Ge(n,o){if(e.disabled||n.disabled)return;if(e.internalUnifySelectCheck&&!e.multiple){$e(n);return}const{checkedKeys:c,indeterminateKeys:s}=y.value[o?"check":"uncheck"](n.key,B.value,{cascade:e.cascade,checkStrategy:R.value,allowNotLoaded:e.allowCheckingNotLoaded});qe(c,Y(c)),Tn(s,Y(s))}function Bn(n){if(e.disabled)return;const{value:o}=K,c=o.findIndex(s=>s===n);if(~c){const s=Array.from(o);s.splice(c,1),he(s,Y(s))}else{const s=b.value.getNode(n);if(!s||s.isLeaf)return;const w=o.concat(n);he(w,Y(w))}}function Xe(n){e.disabled||fe.value||Bn(n.key)}function $e(n){if(!(e.disabled||!e.selectable)){if(Z.value=n.key,e.internalUnifySelectCheck){const{value:{checkedKeys:o,indeterminateKeys:c}}=T;e.multiple?Ge(n,!(o.includes(n.key)||c.includes(n.key))):qe([n.key],Y([n.key]))}if(e.multiple){const o=Array.from(M.value),c=o.findIndex(s=>s===n.key);~c?e.cancelable&&o.splice(c,1):~c||o.push(n.key),Be(o,Y(o))}else M.value.includes(n.key)?e.cancelable&&Be([],[]):Be([n.key],Y([n.key]))}}function $n(n){if(X&&(window.clearTimeout(X),X=null),n.isLeaf)return;te=n.key;const o=()=>{if(te!==n.key)return;const{value:c}=ce;if(c&&c.key===n.key&&!K.value.includes(n.key)){const s=K.value.concat(n.key);he(s,Y(s))}X=null,te=null};n.shallowLoaded?X=window.setTimeout(()=>{o()},1e3):X=window.setTimeout(()=>{He(n).then(()=>{o()})},1e3)}function On({event:n,node:o}){!e.draggable||e.disabled||o.disabled||(Ye({event:n,node:o},!1),An({event:n,node:o.rawNode}))}function Mn({event:n,node:o}){!e.draggable||e.disabled||o.disabled||Ln({event:n,node:o.rawNode})}function Un(n){n.target===n.currentTarget&&re()}function jn({event:n,node:o}){xe(),!(!e.draggable||e.disabled||o.disabled)&&Pn({event:n,node:o.rawNode})}function Vn({event:n,node:o}){!e.draggable||e.disabled||o.disabled||(Se=n.clientX,oe.value=o,En({event:n,node:o.rawNode}))}function Ye({event:n,node:o},c=!0){var s;if(!e.draggable||e.disabled||o.disabled)return;const{value:w}=oe;if(!w)return;const{allowDrop:W,indent:j}=e;c&&Fn({event:n,node:o.rawNode});const pe=n.currentTarget,{height:ae,top:U}=pe.getBoundingClientRect(),V=n.clientY-U;let J;W({node:o.rawNode,dropPosition:"inside",phase:"drag"})?V<=8?J="before":V>=ae-8?J="after":J="inside":V<=ae/2?J="before":J="after";const{value:Yn}=Nn;let A,q;const Oe=Yn(o.key);if(Oe===null){re();return}let Qe=!1;J==="inside"?(A=o,q="inside"):J==="before"?o.isFirstChild?(A=o,q="before"):(A=_.value[Oe-1],q="after"):(A=o,q="after"),!A.isLeaf&&K.value.includes(A.key)&&(Qe=!0,q==="after"&&(A=_.value[Oe+1],A?q="before":(A=o,q="inside")));const Ze=A;if(ce.value=Ze,!Qe&&w.isLastChild&&w.key===A.key&&(q="after"),q==="after"){let en=Se-n.clientX,Me=0;for(;en>=j/2&&A.parent!==null&&A.isLastChild&&Me<1;)en-=j,Me+=1,A=A.parent;ue.value=Me}else ue.value=0;if((w.contains(A)||q==="inside"&&((s=w.parent)===null||s===void 0?void 0:s.key)===A.key)&&!(w.key===Ze.key&&w.key===A.key)){re();return}if(!W({node:A.rawNode,dropPosition:q,phase:"drag"})){re();return}if(w.key===A.key)me();else if(te!==A.key)if(q==="inside"){if(e.expandOnDragenter){if($n(A),!A.shallowLoaded&&te!==A.key){xe();return}}else if(!A.shallowLoaded){xe();return}}else me();else q!=="inside"&&me();se.value=q,ie.value=A}function Hn({event:n,node:o,dropPosition:c}){if(!e.draggable||e.disabled||o.disabled)return;const{value:s}=oe,{value:w}=ie,{value:W}=se;if(!(!s||!w||!W)&&!!e.allowDrop({node:w.rawNode,dropPosition:W,phase:"drag"})&&s.key!==w.key){if(W==="before"){const j=s.getNext({includeDisabled:!0});if(j&&j.key===w.key){re();return}}if(W==="after"){const j=s.getPrev({includeDisabled:!0});if(j&&j.key===w.key){re();return}}In({event:n,node:w.rawNode,dragNode:s.rawNode,dropPosition:c}),xe()}}function qn(){Re()}function Gn(){Re()}function Xn(n){var o;if(e.virtualScroll||e.internalScrollable){const{value:c}=d;if(!((o=c==null?void 0:c.containerRef)===null||o===void 0)&&o.contains(n.relatedTarget))return;Z.value=null}else{const{value:c}=r;if(c!=null&&c.contains(n.relatedTarget))return;Z.value=null}}Ne(Z,n=>{var o,c;if(n!==null){if(e.virtualScroll)(o=g.value)===null||o===void 0||o.scrollTo({key:n});else if(e.internalScrollable){const{value:s}=d;if(s===null)return;const w=(c=s.contentRef)===null||c===void 0?void 0:c.querySelector(`[data-key="${pn(n)}"]`);if(!w)return;s.scrollTo({el:w})}}}),fn(we,{loadingKeysRef:de,highlightKeySetRef:Fe,displayedCheckedKeysRef:B,displayedIndeterminateKeysRef:z,mergedSelectedKeysRef:M,mergedExpandedKeysRef:K,mergedThemeRef:i,mergedCheckStrategyRef:R,nodePropsRef:L(e,"nodeProps"),disabledRef:L(e,"disabled"),checkableRef:L(e,"checkable"),selectableRef:L(e,"selectable"),onLoadRef:L(e,"onLoad"),draggableRef:L(e,"draggable"),blockLineRef:L(e,"blockLine"),indentRef:L(e,"indent"),cascadeRef:L(e,"cascade"),droppingMouseNodeRef:ce,droppingNodeParentRef:ze,draggingNodeRef:oe,droppingPositionRef:se,droppingOffsetLevelRef:ue,fNodesRef:_,pendingNodeKeyRef:Z,internalScrollableRef:L(e,"internalScrollable"),internalCheckboxFocusableRef:L(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:L(e,"renderLabel"),renderPrefixRef:L(e,"renderPrefix"),renderSuffixRef:L(e,"renderSuffix"),renderSwitcherIconRef:L(e,"renderSwitcherIcon"),labelFieldRef:L(e,"labelField"),multipleRef:L(e,"multiple"),handleSwitcherClick:Xe,handleDragEnd:jn,handleDragEnter:On,handleDragLeave:Mn,handleDragStart:Vn,handleDrop:Hn,handleDragOver:Ye,handleSelect:$e,handleCheck:Ge});const We={handleKeydown:Pe,handleKeyup:Le},Je=E(()=>{const{common:{cubicBezierEaseInOut:n},self:{fontSize:o,nodeBorderRadius:c,nodeColorHover:s,nodeColorPressed:w,nodeColorActive:W,arrowColor:j,loadingColor:pe,nodeTextColor:ae,nodeTextColorDisabled:U,dropMarkColor:V}}=i.value;return{"--n-arrow-color":j,"--n-loading-color":pe,"--n-bezier":n,"--n-font-size":o,"--n-node-border-radius":c,"--n-node-color-active":W,"--n-node-color-hover":s,"--n-node-color-pressed":w,"--n-node-text-color":ae,"--n-node-text-color-disabled":U,"--n-drop-mark-color":V}}),be=a?hn("tree",void 0,Je,e):void 0;return{mergedClsPrefix:t,mergedTheme:i,fNodes:Dn,aip:fe,selfElRef:r,virtualListInstRef:g,scrollbarInstRef:d,handleFocusout:Xn,handleDragLeaveTree:Un,handleScroll:qn,getScrollContainer:u,getScrollContent:h,handleAfterEnter:_n,handleResize:Gn,handleKeydown:We.handleKeydown,handleKeyup:We.handleKeyup,cssVars:a?void 0:Je,themeClass:be==null?void 0:be.themeClass,onRender:be==null?void 0:be.onRender}},render(){var e;const{fNodes:t,internalRenderEmpty:a}=this;if(!t.length&&a)return a();const{mergedClsPrefix:i,blockNode:r,blockLine:d,draggable:g,disabled:u,internalFocusable:h,checkable:v,handleKeyup:b,handleKeydown:p,handleFocusout:y}=this,l=h&&!u,x=l?"0":void 0,S=[`${i}-tree`,v&&`${i}-tree--checkable`,(d||r)&&`${i}-tree--block-node`,d&&`${i}-tree--block-line`],D=R=>"__motion"in R?k(Ot,{height:R.height,nodes:R.nodes,clsPrefix:i,mode:R.mode,onAfterEnter:this.handleAfterEnter}):k(Rn,{key:R.key,tmNode:R,clsPrefix:i});if(this.virtualScroll){const{mergedTheme:R,internalScrollablePadding:B}=this,z=st(B||"0");return k(ln,{ref:"scrollbarInstRef",onDragleave:g?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:S,theme:R.peers.Scrollbar,themeOverrides:R.peerOverrides.Scrollbar,tabindex:x,onKeyup:l?b:void 0,onKeydown:l?p:void 0,onFocusout:l?y:void 0},{default:()=>{var I;return(I=this.onRender)===null||I===void 0||I.call(this),k(yt,{ref:"virtualListInstRef",items:this.fNodes,itemSize:De,ignoreItemResize:this.aip,paddingTop:z.top,paddingBottom:z.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:z.left,paddingRight:z.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:C})=>D(C)})}})}const{internalScrollable:T}=this;return S.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),T?k(ln,{class:S,tabindex:x,onKeyup:l?b:void 0,onKeydown:l?p:void 0,onFocusout:l?y:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>k("div",{onDragleave:g?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(D))}):k("div",{class:S,tabindex:x,ref:"selfElRef",style:this.cssVars,onKeyup:l?b:void 0,onKeydown:l?p:void 0,onFocusout:l?y:void 0,onDragleave:g?this.handleDragLeaveTree:void 0},t.length?t.map(D):ut(this.$slots.empty,()=>{var R,B,z,I;return[k(kt,{class:`${i}-tree__empty`,theme:(B=(R=this.theme)===null||R===void 0?void 0:R.peers)===null||B===void 0?void 0:B.Empty,themeOverrides:(I=(z=this.themeOverrides)===null||z===void 0?void 0:z.peers)===null||I===void 0?void 0:I.Empty})]}))}});const Gt={props:{data:{type:Array,default:()=>[]}},setup(e){const t=e,{data:a}=t,i=F(null);function r({option:d}){return{onClick(){console.log(d),i.value=d.key}}}return(d,g)=>{const u=qt,h=mn;return vn(),yn(gt,null,[Te(u,{"block-line":"",data:kn(a),selectable:"",class:"file-tree","node-props":r},null,8,["data"]),Te(h,{class:"file-content"},{default:xn(()=>[ht(" \u5185\u5BB9\u533A\u57DF id:"+bt(i.value),1)]),_:1})],64)}}};var Xt=ft(Gt,[["__scopeId","data-v-9ef8cb62"]]);const Qt={setup(e){function t(r=4,d=""){if(!!r)return gn(6-r,void 0).map((g,u)=>{const h=""+d+r+u;return{label:a(r),key:h,children:t(r-1,h)}})}function a(r){return r===4?"\u9009\u9879\u4E00":r===3?"\u9009\u9879\u4E8C":r===2?"\u9009\u9879\u4E09":r===1?"\u9009\u9879\u56DB":""}const i=t();return(r,d)=>{const g=mn;return vn(),yn("div",null,[Te(g,{position:"absolute","has-sider":""},{default:xn(()=>[Te(Xt,{data:kn(i)},null,8,["data"])]),_:1})])}}};export{Qt as default};
