import{d as ne,h as k,c as dn,aU as cn,a6 as Ue,u as je,a$ as sn,P as I,f as E,aY as ge,a5 as un,O as L,aD as N,v as O,a as m,b as H,x as P,bc as Te,z as Hn,A as qn,a8 as le,aL as Z,e as Ae,B as Gn,i as en,g as fn,a4 as Yn,bd as hn,a1 as Wn,J as Xn,al as Qn,aQ as Zn,N as Jn,ai as Me,aE as et,be as bn,aS as nn,b9 as nt,bf as tt,bg as tn,y as Ke,aZ as ot,a9 as Ce,R as Ne,aB as on,bh as rn,aM as rt,aO as at,bi as an,aj as lt,o as gn,D as dt,l as it,_ as ct,j as st,k as ut}from"./index.b74f094e.js";import{e as ft,V as ht,N as bt}from"./Empty.83b0a8af.js";function vn(e){return typeof e=="string"?`s-${e}`:`n-${e}`}var gt=ne({name:"Switcher",render(){return k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},k("path",{d:"M12 8l10 8l-10 8z"}))}}),vt={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px"};const yt=e=>{const{baseColor:t,inputColorDisabled:a,cardColor:s,modalColor:r,popoverColor:d,textColorDisabled:g,borderColor:f,primaryColor:b,textColor2:v,fontSizeSmall:h,fontSizeMedium:p,fontSizeLarge:y,borderRadiusSmall:l,lineHeight:x}=e;return Object.assign(Object.assign({},vt),{labelLineHeight:x,fontSizeSmall:h,fontSizeMedium:p,fontSizeLarge:y,borderRadius:l,color:t,colorChecked:b,colorDisabled:a,colorDisabledChecked:a,colorTableHeader:s,colorTableHeaderModal:r,colorTableHeaderPopover:d,checkMarkColor:t,checkMarkColorDisabled:g,checkMarkColorDisabledChecked:g,border:`1px solid ${f}`,borderDisabled:`1px solid ${f}`,borderDisabledChecked:`1px solid ${f}`,borderChecked:`1px solid ${b}`,borderFocus:`1px solid ${b}`,boxShadowFocus:`0 0 0 2px ${cn(b,{alpha:.3})}`,textColor:v,textColorDisabled:g})},kt={name:"Checkbox",common:dn,self:yt};var yn=kt,xt=k("svg",{viewBox:"0 0 64 64",class:"check-icon"},k("path",{d:"M50.42,16.76L22.34,39.45l-8.1-11.46c-1.12-1.58-3.3-1.96-4.88-0.84c-1.58,1.12-1.95,3.3-0.84,4.88l10.26,14.51  c0.56,0.79,1.42,1.31,2.38,1.45c0.16,0.02,0.32,0.03,0.48,0.03c0.8,0,1.57-0.27,2.2-0.78l30.99-25.03c1.5-1.21,1.74-3.42,0.52-4.92  C54.13,15.78,51.93,15.55,50.42,16.76z"})),mt=k("svg",{viewBox:"0 0 100 100",class:"line-icon"},k("path",{d:"M80.2,55.5H21.4c-2.8,0-5.1-2.5-5.1-5.5l0,0c0-3,2.3-5.5,5.1-5.5h58.7c2.8,0,5.1,2.5,5.1,5.5l0,0C85.2,53.1,82.9,55.5,80.2,55.5z"}));const kn=Ue("n-checkbox-group"),pt={min:Number,max:Number,size:String,value:Array,defaultValue:{type:Array,default:null},disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:{type:[Function,Array],validator:()=>!0,default:void 0}};ne({name:"CheckboxGroup",props:pt,setup(e){const{mergedClsPrefixRef:t}=je(e),a=sn(e),{mergedSizeRef:s,mergedDisabledRef:r}=a,d=I(e.defaultValue),g=E(()=>e.value),f=ge(g,d),b=E(()=>{var p;return((p=f.value)===null||p===void 0?void 0:p.length)||0}),v=E(()=>Array.isArray(f.value)?new Set(f.value):new Set);function h(p,y){const{nTriggerFormInput:l,nTriggerFormChange:x}=a,{onChange:S,"onUpdate:value":D,onUpdateValue:A}=e;if(Array.isArray(f.value)){const R=Array.from(f.value),B=R.findIndex(z=>z===y);p?~B||(R.push(y),A&&N(A,R),D&&N(D,R),l(),x(),d.value=R,S&&N(S,R)):~B&&(R.splice(B,1),A&&N(A,R),D&&N(D,R),S&&N(S,R),d.value=R,l(),x())}else p?(A&&N(A,[y]),D&&N(D,[y]),S&&N(S,[y]),d.value=[y],l(),x()):(A&&N(A,[]),D&&N(D,[]),S&&N(S,[]),d.value=[],l(),x())}return un(kn,{checkedCountRef:b,maxRef:L(e,"max"),minRef:L(e,"min"),valueSetRef:v,disabledRef:r,mergedSizeRef:s,toggleCheckbox:h}),{mergedClsPrefix:t}},render(){return k("div",{class:`${this.mergedClsPrefix}-checkbox-group`,role:"group"},this.$slots)}});var Ct=O([m("checkbox",`
 line-height: var(--n-label-line-height);
 font-size: var(--n-font-size);
 outline: none;
 cursor: pointer;
 display: inline-flex;
 flex-wrap: nowrap;
 align-items: flex-start;
 word-break: break-word;
 --n-merged-color-table: var(--n-color-table);
 `,[O("&:hover",[m("checkbox-box",[H("border",{border:"var(--n-border-checked)"})])]),O("&:focus:not(:active)",[m("checkbox-box",[H("border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),P("inside-table",[m("checkbox-box",`
 background-color: var(--n-merged-color-table);
 `)]),P("checked",[m("checkbox-box",`
 background-color: var(--n-color-checked);
 `,[m("checkbox-icon",[O(".check-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),P("indeterminate",[m("checkbox-box",[m("checkbox-icon",[O(".check-icon",`
 opacity: 0;
 transform: scale(.5);
 `),O(".line-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),P("checked, indeterminate",[O("&:focus:not(:active)",[m("checkbox-box",[H("border",`
 border: var(--n-border-checked);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),m("checkbox-box",`
 background-color: var(--n-color-checked);
 border-left: 0;
 border-top: 0;
 `,[H("border",{border:"var(--n-border-checked)"})])]),P("disabled",{cursor:"not-allowed"},[P("checked",[m("checkbox-box",`
 background-color: var(--n-color-disabled-checked);
 `,[H("border",{border:"var(--n-border-disabled-checked)"}),m("checkbox-icon",[O(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled-checked)"})])])]),m("checkbox-box",`
 background-color: var(--n-color-disabled);
 `,[H("border",{border:"var(--n-border-disabled)"}),m("checkbox-icon",[O(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled)"})])]),H("label",{color:"var(--n-text-color-disabled)"})]),m("checkbox-box-wrapper",`
 position: relative;
 width: var(--n-size);
 flex-shrink: 0;
 flex-grow: 0;
 `),m("checkbox-box",`
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 height: var(--n-size);
 width: var(--n-size);
 display: inline-block;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color 0.3s var(--n-bezier);
 `,[H("border",`
 transition:
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border: var(--n-border);
 `),m("checkbox-icon",`
 display: flex;
 align-items: center;
 justify-content: center;
 position: absolute;
 left: 1px;
 right: 1px;
 top: 1px;
 bottom: 1px;
 `,[O(".check-icon, .line-icon",`
 width: 100%;
 fill: var(--n-check-mark-color);
 opacity: 0;
 transform: scale(0.5);
 transform-origin: center;
 transition:
 fill 0.3s var(--n-bezier),
 transform 0.3s var(--n-bezier),
 opacity 0.3s var(--n-bezier),
 border-color 0.3s var(--n-bezier);
 `),Te({left:"1px",top:"1px"})])]),H("label",`
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 user-select: none;
 padding: var(--n-label-padding);
 `,[O("&:empty",{display:"none"})])]),Hn(m("checkbox",`
 --n-merged-color-table: var(--n-color-table-modal);
 `)),qn(m("checkbox",`
 --n-merged-color-table: var(--n-color-table-popover);
 `))]);const wt=Object.assign(Object.assign({},Ae.props),{size:String,checked:{type:[Boolean,String,Number],default:void 0},defaultChecked:{type:[Boolean,String,Number],default:!1},value:[String,Number],disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:String,focusable:{type:Boolean,default:!0},checkedValue:{type:[Boolean,String,Number],default:!0},uncheckedValue:{type:[Boolean,String,Number],default:!1},"onUpdate:checked":[Function,Array],onUpdateChecked:[Function,Array],privateInsideTable:Boolean,onChange:[Function,Array]});var St=ne({name:"Checkbox",props:wt,setup(e){const t=I(null),{mergedClsPrefixRef:a,inlineThemeDisabled:s,mergedRtlRef:r}=je(e),d=sn(e,{mergedSize(C){const{size:M}=e;if(M!==void 0)return M;if(b){const{value:$}=b.mergedSizeRef;if($!==void 0)return $}if(C){const{mergedSize:$}=C;if($!==void 0)return $.value}return"medium"},mergedDisabled(C){const{disabled:M}=e;if(M!==void 0)return M;if(b){if(b.disabledRef.value)return!0;const{maxRef:{value:$},checkedCountRef:G}=b;if($!==void 0&&G.value>=$&&!y.value)return!0;const{minRef:{value:u}}=b;if(u!==void 0&&G.value<=u&&y.value)return!0}return C?C.disabled.value:!1}}),{mergedDisabledRef:g,mergedSizeRef:f}=d,b=le(kn,null),v=I(e.defaultChecked),h=L(e,"checked"),p=ge(h,v),y=Z(()=>{if(b){const C=b.valueSetRef.value;return C&&e.value!==void 0?C.has(e.value):!1}else return p.value===e.checkedValue}),l=Ae("Checkbox","-checkbox",Ct,yn,e,a);function x(C){if(b&&e.value!==void 0)b.toggleCheckbox(!y.value,e.value);else{const{onChange:M,"onUpdate:checked":$,onUpdateChecked:G}=e,{nTriggerFormInput:u,nTriggerFormChange:K}=d,T=y.value?e.uncheckedValue:e.checkedValue;$&&N($,T,C),G&&N(G,T,C),M&&N(M,T,C),u(),K(),v.value=T}}function S(C){g.value||x(C)}function D(C){if(!g.value)switch(C.code){case"Space":case"Enter":case"NumpadEnter":x(C)}}function A(C){switch(C.code){case"Space":C.preventDefault()}}const R={focus:()=>{var C;(C=t.value)===null||C===void 0||C.focus()},blur:()=>{var C;(C=t.value)===null||C===void 0||C.blur()}},B=Gn("Checkbox",r,a),z=E(()=>{const{value:C}=f,{common:{cubicBezierEaseInOut:M},self:{borderRadius:$,color:G,colorChecked:u,colorDisabled:K,colorTableHeader:T,colorTableHeaderModal:J,colorTableHeaderPopover:_e,checkMarkColor:Le,checkMarkColorDisabled:Y,border:te,borderFocus:ve,borderDisabled:Pe,borderChecked:Ee,boxShadowFocus:de,textColor:Fe,textColorDisabled:Se,checkMarkColorDisabledChecked:oe,colorDisabledChecked:ie,borderDisabledChecked:ce,labelPadding:se,labelLineHeight:ue,[en("fontSize",C)]:Ie,[en("size",C)]:ye}}=l.value;return{"--n-label-line-height":ue,"--n-size":ye,"--n-bezier":M,"--n-border-radius":$,"--n-border":te,"--n-border-checked":Ee,"--n-border-focus":ve,"--n-border-disabled":Pe,"--n-border-disabled-checked":ce,"--n-box-shadow-focus":de,"--n-color":G,"--n-color-checked":u,"--n-color-table":T,"--n-color-table-modal":J,"--n-color-table-popover":_e,"--n-color-disabled":K,"--n-color-disabled-checked":ie,"--n-text-color":Fe,"--n-text-color-disabled":Se,"--n-check-mark-color":Le,"--n-check-mark-color-disabled":Y,"--n-check-mark-color-disabled-checked":oe,"--n-font-size":Ie,"--n-label-padding":se}}),F=s?fn("checkbox",E(()=>f.value[0]),z,e):void 0;return Object.assign(d,R,{rtlEnabled:B,selfRef:t,mergedClsPrefix:a,mergedDisabled:g,renderedChecked:y,mergedTheme:l,labelId:Yn(),handleClick:S,handleKeyUp:D,handleKeyDown:A,cssVars:s?void 0:z,themeClass:F==null?void 0:F.themeClass,onRender:F==null?void 0:F.onRender})},render(){var e;const{$slots:t,renderedChecked:a,mergedDisabled:s,indeterminate:r,privateInsideTable:d,cssVars:g,labelId:f,label:b,mergedClsPrefix:v,focusable:h,handleKeyUp:p,handleKeyDown:y,handleClick:l}=this;return(e=this.onRender)===null||e===void 0||e.call(this),k("div",{ref:"selfRef",class:[`${v}-checkbox`,this.themeClass,this.rtlEnabled&&`${v}-checkbox--rtl`,a&&`${v}-checkbox--checked`,s&&`${v}-checkbox--disabled`,r&&`${v}-checkbox--indeterminate`,d&&`${v}-checkbox--inside-table`],tabindex:s||!h?void 0:0,role:"checkbox","aria-checked":r?"mixed":a,"aria-labelledby":f,style:g,onKeyup:p,onKeydown:y,onClick:l,onMousedown:()=>{Wn("selectstart",window,x=>{x.preventDefault()},{once:!0})}},k("div",{class:`${v}-checkbox-box-wrapper`},"\xA0",k("div",{class:`${v}-checkbox-box`},k(hn,null,{default:()=>this.indeterminate?k("div",{key:"indeterminate",class:`${v}-checkbox-icon`},mt):k("div",{key:"check",class:`${v}-checkbox-icon`},xt)}),k("div",{class:`${v}-checkbox-box__border`}))),b!==null||t.default?k("span",{class:`${v}-checkbox__label`,id:f},t.default?t.default():b):null)}});const Rt=e=>{const{borderRadiusSmall:t,hoverColor:a,pressedColor:s,primaryColor:r,textColor3:d,textColor2:g,textColorDisabled:f,fontSize:b}=e;return{fontSize:b,nodeBorderRadius:t,nodeColorHover:a,nodeColorPressed:s,nodeColorActive:cn(r,{alpha:.1}),arrowColor:d,nodeTextColor:g,nodeTextColorDisabled:f,loadingColor:r,dropMarkColor:r}},Kt=Xn({name:"Tree",common:dn,peers:{Checkbox:yn,Scrollbar:Qn,Empty:ft},self:Rt});var Nt=Kt;const xn=Ue("n-tree-select"),we=Ue("n-tree");var Dt=ne({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(e){const{renderSwitcherIconRef:t}=le(we,null);return()=>{const{clsPrefix:a}=e;return k("span",{"data-switcher":!0,class:[`${a}-tree-node-switcher`,{[`${a}-tree-node-switcher--expanded`]:e.expanded,[`${a}-tree-node-switcher--hide`]:e.hide}],onClick:e.onClick},k("div",{class:`${a}-tree-node-switcher__icon`},k(hn,null,{default:()=>{if(e.loading)return k(Zn,{clsPrefix:a,key:"loading",radius:85,strokeWidth:20});const{value:s}=t;return s?s():k(Jn,{clsPrefix:a,key:"switcher"},{default:()=>k(gt,null)})}})))}}}),Tt=ne({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const t=le(we);function a(r){const{onCheck:d}=e;if(d)return d(r)}function s(r){e.indeterminate?a(!1):a(r)}return{handleUpdateValue:s,mergedTheme:t.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:t,checked:a,indeterminate:s,disabled:r,focusable:d,handleUpdateValue:g}=this;return k("span",{class:`${e}-tree-node-checkbox`,"data-checkbox":!0},k(St,{focusable:d,disabled:r,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,checked:a,indeterminate:s,onUpdateChecked:g}))}}),At=ne({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:t,renderPrefixRef:a,renderSuffixRef:s,labelFieldRef:r}=le(we),d=I(null);function g(b){const{onClick:v}=e;v&&v(b)}function f(b){g(b)}return{selfRef:d,renderLabel:t,renderPrefix:a,renderSuffix:s,labelField:r,handleClick:f}},render(){const{clsPrefix:e,labelField:t,nodeProps:a,checked:s=!1,selected:r=!1,renderLabel:d,renderPrefix:g,renderSuffix:f,handleClick:b,onDragstart:v,tmNode:{rawNode:h,rawNode:{prefix:p,suffix:y,[t]:l}}}=this;return k("span",Object.assign({},a,{ref:"selfRef",class:[`${e}-tree-node-content`,a==null?void 0:a.class],onClick:b,draggable:v===void 0?void 0:!0,onDragstart:v}),g||p?k("div",{class:`${e}-tree-node-content__prefix`},g?g({option:h,selected:r,checked:s}):Me(p)):null,k("div",{class:`${e}-tree-node-content__text`},d?d({option:h,selected:r,checked:s}):Me(l)),f||y?k("div",{class:`${e}-tree-node-content__suffix`},f?f({option:h,selected:r,checked:s}):Me(y)):null)}});function ln({position:e,offsetLevel:t,indent:a,el:s}){const r={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")r.left=0,r.top=0,r.bottom=0,r.borderRadius="inherit",r.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const d=e==="before"?"top":"bottom";r[d]=0,r.left=`${s.offsetLeft+6-t*a}px`,r.height="2px",r.backgroundColor="var(--n-drop-mark-color)",r.transformOrigin=d,r.borderRadius="1px",r.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return k("div",{style:r})}function _t({dropPosition:e,node:t}){return t.isLeaf===!1||t.children?!0:e!=="inside"}const Lt=ne({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const t=le(we),{droppingNodeParentRef:a,droppingMouseNodeRef:s,draggingNodeRef:r,droppingPositionRef:d,droppingOffsetLevelRef:g,nodePropsRef:f,indentRef:b,blockLineRef:v}=t,h=E(()=>t.disabledRef.value||e.tmNode.disabled),p=E(()=>{const{value:u}=f;if(!!u)return u({option:e.tmNode.rawNode})}),y=I(null),l={value:null};et(()=>{l.value=y.value.$el});function x(){const{tmNode:u}=e;if(!u.isLeaf&&!u.shallowLoaded){t.loadingKeysRef.value.has(u.key)||t.loadingKeysRef.value.add(u.key);const{onLoadRef:{value:K}}=t;K&&K(u.rawNode).then(()=>{t.handleSwitcherClick(u)}).finally(()=>{t.loadingKeysRef.value.delete(u.key)})}else t.handleSwitcherClick(u)}const S=Z(()=>!e.tmNode.disabled&&t.selectableRef.value&&(t.internalTreeSelect?t.mergedCheckStrategyRef.value!=="child"||t.multipleRef.value&&t.cascadeRef.value||e.tmNode.isLeaf:!0));function D(u){!S.value||nn(u,"checkbox")||nn(u,"switcher")||t.handleSelect(e.tmNode)}function A(u){var K,T;v.value||(h.value||D(u),(T=(K=p.value)===null||K===void 0?void 0:K.onClick)===null||T===void 0||T.call(K,u))}function R(u){var K,T;!v.value||(h.value||D(u),(T=(K=p.value)===null||K===void 0?void 0:K.onClick)===null||T===void 0||T.call(K,u))}function B(u){t.handleCheck(e.tmNode,u)}function z(u){t.handleDragStart({event:u,node:e.tmNode})}function F(u){u.currentTarget===u.target&&t.handleDragEnter({event:u,node:e.tmNode})}function C(u){u.preventDefault(),t.handleDragOver({event:u,node:e.tmNode})}function M(u){t.handleDragEnd({event:u,node:e.tmNode})}function $(u){u.currentTarget===u.target&&t.handleDragLeave({event:u,node:e.tmNode})}function G(u){u.preventDefault(),d.value!==null&&t.handleDrop({event:u,node:e.tmNode,dropPosition:d.value})}return{showDropMark:Z(()=>{const{value:u}=r;if(!u)return;const{value:K}=d;if(!K)return;const{value:T}=s;if(!T)return;const{tmNode:J}=e;return J.key===T.key}),showDropMarkAsParent:Z(()=>{const{value:u}=a;if(!u)return!1;const{tmNode:K}=e,{value:T}=d;return T==="before"||T==="after"?u.key===K.key:!1}),pending:Z(()=>t.pendingNodeKeyRef.value===e.tmNode.key),loading:Z(()=>t.loadingKeysRef.value.has(e.tmNode.key)),highlight:Z(()=>{var u;return(u=t.highlightKeySetRef.value)===null||u===void 0?void 0:u.has(e.tmNode.key)}),checked:Z(()=>t.displayedCheckedKeysRef.value.includes(e.tmNode.key)),indeterminate:Z(()=>t.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:Z(()=>t.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:Z(()=>t.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:h,checkable:E(()=>t.checkableRef.value&&(t.cascadeRef.value||t.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),checkboxDisabled:E(()=>!!e.tmNode.rawNode.checkboxDisabled),selectable:S,internalScrollable:t.internalScrollableRef,draggable:t.draggableRef,blockLine:v,nodeProps:p,checkboxFocusable:t.internalCheckboxFocusableRef,droppingPosition:d,droppingOffsetLevel:g,indent:b,contentInstRef:y,contentElRef:l,handleCheck:B,handleDrop:G,handleDragStart:z,handleDragEnter:F,handleDragOver:C,handleDragEnd:M,handleDragLeave:$,handleLineClick:R,handleContentClick:A,handleSwitcherClick:x}},render(){const{tmNode:e,clsPrefix:t,checkable:a,selectable:s,selected:r,checked:d,highlight:g,draggable:f,blockLine:b,indent:v,disabled:h,pending:p,internalScrollable:y,nodeProps:l}=this,x=f&&!h?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,S=y?vn(e.key):void 0;return k("div",Object.assign({class:`${t}-tree-node-wrapper`},x),k("div",Object.assign({},b?l:void 0,{class:[`${t}-tree-node`,{[`${t}-tree-node--selected`]:r,[`${t}-tree-node--checkable`]:a,[`${t}-tree-node--highlight`]:g,[`${t}-tree-node--pending`]:p,[`${t}-tree-node--disabled`]:h,[`${t}-tree-node--selectable`]:s},l==null?void 0:l.class],"data-key":S,draggable:f&&b,onClick:this.handleLineClick,onDragstart:f&&b&&!h?this.handleDragStart:void 0}),bn(e.level,k("div",{class:`${t}-tree-node-indent`,style:{flex:`0 0 ${v}px`}})),k(Dt,{clsPrefix:t,expanded:this.expanded,loading:this.loading,hide:e.isLeaf,onClick:this.handleSwitcherClick}),a?k(Tt,{focusable:this.checkboxFocusable,disabled:h||this.checkboxDisabled,clsPrefix:t,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null,k(At,{ref:"contentInstRef",clsPrefix:t,checked:d,selected:r,onClick:this.handleContentClick,nodeProps:b?void 0:l,onDragstart:f&&!b&&!h?this.handleDragStart:void 0,tmNode:e}),f?this.showDropMark?ln({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:v}):this.showDropMarkAsParent?ln({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:v}):null:null))}});var mn=Lt;function pn(e,t,a,s){e==null||e.forEach(r=>{a(r),pn(r[t],t,a,s),s(r)})}function Pt(e,t,a,s,r){const d=new Set,g=new Set,f=[];return pn(e,s,b=>{if(f.push(b),r(t,b)){g.add(b[a]);for(let v=f.length-2;v>=0;--v)if(!d.has(f[v][a]))d.add(f[v][a]);else return}},()=>{f.pop()}),{expandedKeys:Array.from(d),highlightKeySet:g}}if(typeof window!="undefined"&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function Et(e,t,a,s,r){const d=new Set,g=new Set,f=new Set,b=[],v=[],h=[];function p(l){l.forEach(x=>{if(h.push(x),t(a,x)){d.add(x[s]),f.add(x[s]);for(let D=h.length-2;D>=0;--D){const A=h[D][s];if(!g.has(A))g.add(A),d.has(A)&&d.delete(A);else break}}const S=x[r];S&&p(S),h.pop()})}p(e);function y(l,x){l.forEach(S=>{const D=S[s],A=d.has(D),R=g.has(D);if(!A&&!R)return;const B=S[r];if(B)if(A)x.push(S);else{b.push(D);const z=Object.assign(Object.assign({},S),{[r]:[]});x.push(z),y(B,z[r])}else x.push(S)})}return y(e,v),{filteredTree:v,highlightKeySet:f,expandedKeys:b}}function Ft({fNodesRef:e,mergedExpandedKeysRef:t,mergedSelectedKeysRef:a,handleSelect:s,handleSwitcherClick:r}){const{value:d}=a,g=le(xn,null),f=g?g.pendingNodeKeyRef:I(d.length?d[d.length-1]:null);function b(h){const{value:p}=f;if(p===null){if(["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(h.code)&&p===null){const{value:y}=e;let l=0;for(;l<y.length;){if(!y[l].disabled){f.value=y[l].key;break}l+=1}}}else{const{value:y}=e;let l=y.findIndex(x=>x.key===p);if(!~l)return;if(h.code==="Enter"||h.code==="NumpadEnter")s(y[l]);else if(h.code==="ArrowDown")for(l+=1;l<y.length;){if(!y[l].disabled){f.value=y[l].key;break}l+=1}else if(h.code==="ArrowUp")for(l-=1;l>=0;){if(!y[l].disabled){f.value=y[l].key;break}l-=1}else if(h.code==="ArrowLeft"){const x=y[l];if(x.isLeaf||!t.value.includes(p)){const S=x.getParent();S&&(f.value=S.key)}else r(x)}else if(h.code==="ArrowRight"){const x=y[l];if(x.isLeaf)return;if(!t.value.includes(p))r(x);else for(l+=1;l<y.length;){if(!y[l].disabled){f.value=y[l].key;break}l+=1}}}}function v(h){switch(h.code){case"ArrowUp":case"ArrowDown":h.preventDefault()}}return{pendingNodeKeyRef:f,handleKeyup:b,handleKeydown:v}}var It=ne({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return k(tt,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>k("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:nt(this.height)}},this.nodes.map(t=>k(mn,{clsPrefix:e,tmNode:t})))})}}),zt=m("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[O("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),O(">",[m("tree-node",[O("&:first-child",{marginTop:0})])]),m("tree-node-indent",`
 height: 0;
 `),m("tree-motion-wrapper",[P("expand",[tn({duration:"0.2s"})]),P("collapse",[tn({duration:"0.2s",reverse:!0})])]),m("tree-node-wrapper",`
 box-sizing: border-box;
 padding: 3px 0;
 `),m("tree-node",`
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[P("highlight",[m("tree-node-content",[H("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),P("disabled",[m("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),Ke("disabled",[P("selectable",[m("tree-node-content",`
 cursor: pointer;
 `)])])]),P("block-node",[m("tree-node-content",`
 width: 100%;
 `)]),Ke("block-line",[m("tree-node",[Ke("disabled",[m("tree-node-content",[O("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),P("selectable",[m("tree-node-content",[O("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),P("pending",[m("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),P("selected",[m("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),P("block-line",[m("tree-node",[Ke("disabled",[O("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),P("selectable",[O("&:active",{backgroundColor:"var(--n-node-color-pressed)"})]),P("pending",`
 background-color: var(--n-node-color-hover);
 `),P("selected",{backgroundColor:"var(--n-node-color-active)"})]),P("disabled",`
 cursor: not-allowed;
 `)])]),m("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[H("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[m("icon",[Te()]),m("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[Te()]),m("base-icon",[Te()])]),P("hide",{visibility:"hidden"}),P("expanded",{transform:"rotate(90deg)"})]),m("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `),P("checkable",[m("tree-node-content",`
 padding: 0 6px;
 `)]),m("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[O("&:last-child",{marginBottom:0}),H("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),H("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow:1;
 `),H("suffix",`
 display: inline-flex;
 `)]),H("empty","margin: auto;")]),Bt=globalThis&&globalThis.__awaiter||function(e,t,a,s){function r(d){return d instanceof a?d:new a(function(g){g(d)})}return new(a||(a=Promise))(function(d,g){function f(h){try{v(s.next(h))}catch(p){g(p)}}function b(h){try{v(s.throw(h))}catch(p){g(p)}}function v(h){h.done?d(h.value):r(h.value).then(f,b)}v((s=s.apply(e,t||[])).next())})};const De=30;function $t(e,t){return{getKey(a){return a[e]},getChildren(a){return a[t]},getDisabled(a){return!!(a.disabled||a.checkboxDisabled)}}}const Ot={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},Mt=Object.assign(Object.assign(Object.assign(Object.assign({},Ae.props),{showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:_t},animated:{type:Boolean,default:!0},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,renderSwitcherIcon:Function,nodeProps:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),Ot),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean});var Ut=ne({name:"Tree",props:Mt,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:a}=je(e),s=Ae("Tree","-tree",zt,Nt,e,t),r=I(null),d=I(null),g=I(null);function f(){var n;return(n=g.value)===null||n===void 0?void 0:n.listElRef}function b(){var n;return(n=g.value)===null||n===void 0?void 0:n.itemsElRef}const v=E(()=>{const{pattern:n}=e;return n?!n.length||!ye.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:Et(e.data,ye.value,n,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),h=E(()=>ot(e.showIrrelevantNodes?e.data:v.value.filteredTree,$t(e.keyField,e.childrenField))),p=le(xn,null),y=e.internalTreeSelect?p.dataTreeMate:h,{watchProps:l}=e,x=I([]);l!=null&&l.includes("defaultCheckedKeys")?Ce(()=>{x.value=e.defaultCheckedKeys}):x.value=e.defaultCheckedKeys;const S=L(e,"checkedKeys"),D=ge(S,x),A=E(()=>y.value.getCheckedKeys(D.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),R=E(()=>e.leafOnly?"child":e.checkStrategy),B=E(()=>A.value.checkedKeys),z=E(()=>{const{indeterminateKeys:n}=e;return n!==void 0?n:A.value.indeterminateKeys}),F=I([]);l!=null&&l.includes("defaultSelectedKeys")?Ce(()=>{F.value=e.defaultSelectedKeys}):F.value=e.defaultSelectedKeys;const C=L(e,"selectedKeys"),M=ge(C,F),$=I([]),G=n=>{$.value=e.defaultExpandAll?y.value.getNonLeafKeys():n===void 0?e.defaultExpandedKeys:n};l!=null&&l.includes("defaultExpandedKeys")?Ce(()=>G(void 0)):Ce(()=>G(e.defaultExpandedKeys));const u=L(e,"expandedKeys"),K=ge(u,$),T=E(()=>h.value.getFlattenedNodes(K.value)),{pendingNodeKeyRef:J,handleKeyup:_e,handleKeydown:Le}=Ft({mergedSelectedKeysRef:M,fNodesRef:T,mergedExpandedKeysRef:K,handleSelect:Be,handleSwitcherClick:Ge});let Y=null,te=null;const ve=I(new Set),Pe=E(()=>e.internalHighlightKeySet||v.value.highlightKeySet),Ee=ge(Pe,ve),de=I(new Set),Fe=E(()=>K.value.filter(n=>!de.value.has(n)));let Se=0;const oe=I(null),ie=I(null),ce=I(null),se=I(null),ue=I(0),Ie=E(()=>{const{value:n}=ie;return n?n.parent:null}),ye=E(()=>{const{filter:n}=e;if(n)return n;const{labelField:o}=e;return(i,c)=>i.length?c[o].toLowerCase().includes(i.toLowerCase()):!0});Ne(L(e,"data"),()=>{de.value.clear(),J.value=null,xe()},{deep:!1});let ke;Ne(L(e,"pattern"),(n,o)=>{if(e.showIrrelevantNodes)if(ke=void 0,n){const{expandedKeys:i,highlightKeySet:c}=Pt(e.data,e.pattern,e.keyField,e.childrenField,ye.value);ve.value=c,he(i,W(i))}else ve.value=new Set;else if(!n.length)ke!==void 0&&he(ke,W(ke));else{o.length||(ke=K.value);const{expandedKeys:i}=v.value;i!==void 0&&he(i,W(i))}});function Ve(n){return Bt(this,void 0,void 0,function*(){const{onLoad:o}=e;if(!o)return yield Promise.resolve();const{value:i}=de;return yield new Promise(c=>{i.has(n.key)||(i.add(n.key),o(n.rawNode).then(()=>{i.delete(n.key),c()}).catch(w=>{console.error(w),me()}))})})}Ce(()=>{var n;const{value:o}=h;if(!o)return;const{getNode:i}=o;(n=K.value)===null||n===void 0||n.forEach(c=>{const w=i(c);w&&!w.shallowLoaded&&Ve(w)})});const fe=I(!1),ee=I([]);Ne(Fe,(n,o)=>{if(!e.animated){on(Re);return}const i=new Set(o);let c=null,w=null;for(const U of n)if(!i.has(U)){if(c!==null)return;c=U}const X=new Set(n);for(const U of o)if(!X.has(U)){if(w!==null)return;w=U}if(c!==null&&w!==null||c===null&&w===null)return;const{virtualScroll:j}=e,pe=(j?g.value.listElRef:r.value).offsetHeight,ae=Math.ceil(pe/De)+1;if(c!==null){fe.value=!0,ee.value=h.value.getFlattenedNodes(o);const U=ee.value.findIndex(V=>V.key===c);if(~U){const V=rn(ee.value[U].children,n);ee.value.splice(U+1,0,{__motion:!0,mode:"expand",height:j?V.length*De:void 0,nodes:j?V.slice(0,ae):V})}}if(w!==null){ee.value=h.value.getFlattenedNodes(n);const U=ee.value.findIndex(V=>V.key===w);if(~U){const V=ee.value[U].children;if(!V)return;fe.value=!0;const Q=rn(V,n);ee.value.splice(U+1,0,{__motion:!0,mode:"collapse",height:j?Q.length*De:void 0,nodes:j?Q.slice(0,ae):Q})}}});const Cn=E(()=>rt(T.value)),wn=E(()=>fe.value?ee.value:T.value);function Re(){const{value:n}=d;n&&n.sync()}function Sn(){fe.value=!1,e.virtualScroll&&on(Re)}function W(n){const{getNode:o}=y.value;return n.map(i=>{var c;return((c=o(i))===null||c===void 0?void 0:c.rawNode)||null})}function he(n,o){const{"onUpdate:expandedKeys":i,onUpdateExpandedKeys:c}=e;$.value=n,i&&N(i,n,o),c&&N(c,n,o)}function He(n,o){const{"onUpdate:checkedKeys":i,onUpdateCheckedKeys:c}=e;x.value=n,c&&N(c,n,o),i&&N(i,n,o)}function Rn(n,o){const{"onUpdate:indeterminateKeys":i,onUpdateIndeterminateKeys:c}=e;i&&N(i,n,o),c&&N(c,n,o)}function ze(n,o){const{"onUpdate:selectedKeys":i,onUpdateSelectedKeys:c}=e;F.value=n,c&&N(c,n,o),i&&N(i,n,o)}function Kn(n){const{onDragenter:o}=e;o&&N(o,n)}function Nn(n){const{onDragleave:o}=e;o&&N(o,n)}function Dn(n){const{onDragend:o}=e;o&&N(o,n)}function Tn(n){const{onDragstart:o}=e;o&&N(o,n)}function An(n){const{onDragover:o}=e;o&&N(o,n)}function _n(n){const{onDrop:o}=e;o&&N(o,n)}function xe(){Ln(),re()}function Ln(){oe.value=null}function re(){ue.value=0,ie.value=null,ce.value=null,se.value=null,me()}function me(){Y&&(window.clearTimeout(Y),Y=null),te=null}function qe(n,o){if(e.disabled||n.disabled)return;if(e.internalUnifySelectCheck&&!e.multiple){Be(n);return}const{checkedKeys:i,indeterminateKeys:c}=y.value[o?"check":"uncheck"](n.key,B.value,{cascade:e.cascade,checkStrategy:R.value,allowNotLoaded:e.allowCheckingNotLoaded});He(i,W(i)),Rn(c,W(c))}function Pn(n){if(e.disabled)return;const{value:o}=K,i=o.findIndex(c=>c===n);if(~i){const c=Array.from(o);c.splice(i,1),he(c,W(c))}else{const c=h.value.getNode(n);if(!c||c.isLeaf)return;const w=o.concat(n);he(w,W(w))}}function Ge(n){e.disabled||fe.value||Pn(n.key)}function Be(n){if(!(e.disabled||!e.selectable)){if(J.value=n.key,e.internalUnifySelectCheck){const{value:{checkedKeys:o,indeterminateKeys:i}}=A;e.multiple?qe(n,!(o.includes(n.key)||i.includes(n.key))):He([n.key],W([n.key]))}if(e.multiple){const o=Array.from(M.value),i=o.findIndex(c=>c===n.key);~i?e.cancelable&&o.splice(i,1):~i||o.push(n.key),ze(o,W(o))}else M.value.includes(n.key)?e.cancelable&&ze([],[]):ze([n.key],W([n.key]))}}function En(n){if(Y&&(window.clearTimeout(Y),Y=null),n.isLeaf)return;te=n.key;const o=()=>{if(te!==n.key)return;const{value:i}=ce;if(i&&i.key===n.key&&!K.value.includes(n.key)){const c=K.value.concat(n.key);he(c,W(c))}Y=null,te=null};n.shallowLoaded?Y=window.setTimeout(()=>{o()},1e3):Y=window.setTimeout(()=>{Ve(n).then(()=>{o()})},1e3)}function Fn({event:n,node:o}){!e.draggable||e.disabled||o.disabled||(Ye({event:n,node:o},!1),Kn({event:n,node:o.rawNode}))}function In({event:n,node:o}){!e.draggable||e.disabled||o.disabled||Nn({event:n,node:o.rawNode})}function zn(n){n.target===n.currentTarget&&re()}function Bn({event:n,node:o}){xe(),!(!e.draggable||e.disabled||o.disabled)&&Dn({event:n,node:o.rawNode})}function $n({event:n,node:o}){!e.draggable||e.disabled||o.disabled||(Se=n.clientX,oe.value=o,Tn({event:n,node:o.rawNode}))}function Ye({event:n,node:o},i=!0){var c;if(!e.draggable||e.disabled||o.disabled)return;const{value:w}=oe;if(!w)return;const{allowDrop:X,indent:j}=e;i&&An({event:n,node:o.rawNode});const pe=n.currentTarget,{height:ae,top:U}=pe.getBoundingClientRect(),V=n.clientY-U;let Q;X({node:o.rawNode,dropPosition:"inside",phase:"drag"})?V<=8?Q="before":V>=ae-8?Q="after":Q="inside":V<=ae/2?Q="before":Q="after";const{value:Vn}=Cn;let _,q;const $e=Vn(o.key);if($e===null){re();return}let Qe=!1;Q==="inside"?(_=o,q="inside"):Q==="before"?o.isFirstChild?(_=o,q="before"):(_=T.value[$e-1],q="after"):(_=o,q="after"),!_.isLeaf&&K.value.includes(_.key)&&(Qe=!0,q==="after"&&(_=T.value[$e+1],_?q="before":(_=o,q="inside")));const Ze=_;if(ce.value=Ze,!Qe&&w.isLastChild&&w.key===_.key&&(q="after"),q==="after"){let Je=Se-n.clientX,Oe=0;for(;Je>=j/2&&_.parent!==null&&_.isLastChild&&Oe<1;)Je-=j,Oe+=1,_=_.parent;ue.value=Oe}else ue.value=0;if((w.contains(_)||q==="inside"&&((c=w.parent)===null||c===void 0?void 0:c.key)===_.key)&&!(w.key===Ze.key&&w.key===_.key)){re();return}if(!X({node:_.rawNode,dropPosition:q,phase:"drag"})){re();return}if(w.key===_.key)me();else if(te!==_.key)if(q==="inside"){if(e.expandOnDragenter){if(En(_),!_.shallowLoaded&&te!==_.key){xe();return}}else if(!_.shallowLoaded){xe();return}}else me();else q!=="inside"&&me();se.value=q,ie.value=_}function On({event:n,node:o,dropPosition:i}){if(!e.draggable||e.disabled||o.disabled)return;const{value:c}=oe,{value:w}=ie,{value:X}=se;if(!(!c||!w||!X)&&!!e.allowDrop({node:w.rawNode,dropPosition:X,phase:"drag"})&&c.key!==w.key){if(X==="before"){const j=c.getNext({includeDisabled:!0});if(j&&j.key===w.key){re();return}}if(X==="after"){const j=c.getPrev({includeDisabled:!0});if(j&&j.key===w.key){re();return}}_n({event:n,node:w.rawNode,dragNode:c.rawNode,dropPosition:i}),xe()}}function Mn(){Re()}function Un(){Re()}function jn(n){var o;if(e.virtualScroll||e.internalScrollable){const{value:i}=d;if(!((o=i==null?void 0:i.containerRef)===null||o===void 0)&&o.contains(n.relatedTarget))return;J.value=null}else{const{value:i}=r;if(i!=null&&i.contains(n.relatedTarget))return;J.value=null}}Ne(J,n=>{var o,i;if(n!==null){if(e.virtualScroll)(o=g.value)===null||o===void 0||o.scrollTo({key:n});else if(e.internalScrollable){const{value:c}=d;if(c===null)return;const w=(i=c.contentRef)===null||i===void 0?void 0:i.querySelector(`[data-key="${vn(n)}"]`);if(!w)return;c.scrollTo({el:w})}}}),un(we,{loadingKeysRef:de,highlightKeySetRef:Ee,displayedCheckedKeysRef:B,displayedIndeterminateKeysRef:z,mergedSelectedKeysRef:M,mergedExpandedKeysRef:K,mergedThemeRef:s,mergedCheckStrategyRef:R,nodePropsRef:L(e,"nodeProps"),disabledRef:L(e,"disabled"),checkableRef:L(e,"checkable"),selectableRef:L(e,"selectable"),onLoadRef:L(e,"onLoad"),draggableRef:L(e,"draggable"),blockLineRef:L(e,"blockLine"),indentRef:L(e,"indent"),cascadeRef:L(e,"cascade"),droppingMouseNodeRef:ce,droppingNodeParentRef:Ie,draggingNodeRef:oe,droppingPositionRef:se,droppingOffsetLevelRef:ue,fNodesRef:T,pendingNodeKeyRef:J,internalScrollableRef:L(e,"internalScrollable"),internalCheckboxFocusableRef:L(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:L(e,"renderLabel"),renderPrefixRef:L(e,"renderPrefix"),renderSuffixRef:L(e,"renderSuffix"),renderSwitcherIconRef:L(e,"renderSwitcherIcon"),labelFieldRef:L(e,"labelField"),multipleRef:L(e,"multiple"),handleSwitcherClick:Ge,handleDragEnd:Bn,handleDragEnter:Fn,handleDragLeave:In,handleDragStart:$n,handleDrop:On,handleDragOver:Ye,handleSelect:Be,handleCheck:qe});const We={handleKeydown:Le,handleKeyup:_e},Xe=E(()=>{const{common:{cubicBezierEaseInOut:n},self:{fontSize:o,nodeBorderRadius:i,nodeColorHover:c,nodeColorPressed:w,nodeColorActive:X,arrowColor:j,loadingColor:pe,nodeTextColor:ae,nodeTextColorDisabled:U,dropMarkColor:V}}=s.value;return{"--n-arrow-color":j,"--n-loading-color":pe,"--n-bezier":n,"--n-font-size":o,"--n-node-border-radius":i,"--n-node-color-active":X,"--n-node-color-hover":c,"--n-node-color-pressed":w,"--n-node-text-color":ae,"--n-node-text-color-disabled":U,"--n-drop-mark-color":V}}),be=a?fn("tree",void 0,Xe,e):void 0;return{mergedClsPrefix:t,mergedTheme:s,fNodes:wn,aip:fe,selfElRef:r,virtualListInstRef:g,scrollbarInstRef:d,handleFocusout:jn,handleDragLeaveTree:zn,handleScroll:Mn,getScrollContainer:f,getScrollContent:b,handleAfterEnter:Sn,handleResize:Un,handleKeydown:We.handleKeydown,handleKeyup:We.handleKeyup,cssVars:a?void 0:Xe,themeClass:be==null?void 0:be.themeClass,onRender:be==null?void 0:be.onRender}},render(){var e;const{fNodes:t,internalRenderEmpty:a}=this;if(!t.length&&a)return a();const{mergedClsPrefix:s,blockNode:r,blockLine:d,draggable:g,disabled:f,internalFocusable:b,checkable:v,handleKeyup:h,handleKeydown:p,handleFocusout:y}=this,l=b&&!f,x=l?"0":void 0,S=[`${s}-tree`,v&&`${s}-tree--checkable`,(d||r)&&`${s}-tree--block-node`,d&&`${s}-tree--block-line`],D=R=>"__motion"in R?k(It,{height:R.height,nodes:R.nodes,clsPrefix:s,mode:R.mode,onAfterEnter:this.handleAfterEnter}):k(mn,{key:R.key,tmNode:R,clsPrefix:s});if(this.virtualScroll){const{mergedTheme:R,internalScrollablePadding:B}=this,z=at(B||"0");return k(an,{ref:"scrollbarInstRef",onDragleave:g?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:S,theme:R.peers.Scrollbar,themeOverrides:R.peerOverrides.Scrollbar,tabindex:x,onKeyup:l?h:void 0,onKeydown:l?p:void 0,onFocusout:l?y:void 0},{default:()=>{var F;return(F=this.onRender)===null||F===void 0||F.call(this),k(ht,{ref:"virtualListInstRef",items:this.fNodes,itemSize:De,ignoreItemResize:this.aip,paddingTop:z.top,paddingBottom:z.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:z.left,paddingRight:z.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:C})=>D(C)})}})}const{internalScrollable:A}=this;return S.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),A?k(an,{class:S,tabindex:x,onKeyup:l?h:void 0,onKeydown:l?p:void 0,onFocusout:l?y:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>k("div",{onDragleave:g?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(D))}):k("div",{class:S,tabindex:x,ref:"selfElRef",style:this.cssVars,onKeyup:l?h:void 0,onKeydown:l?p:void 0,onFocusout:l?y:void 0,onDragleave:g?this.handleDragLeaveTree:void 0},t.length?t.map(D):lt(this.$slots.empty,()=>{var R,B,z,F;return[k(bt,{class:`${s}-tree__empty`,theme:(B=(R=this.theme)===null||R===void 0?void 0:R.peers)===null||B===void 0?void 0:B.Empty,themeOverrides:(F=(z=this.themeOverrides)===null||z===void 0?void 0:z.peers)===null||F===void 0?void 0:F.Empty})]}))}});const jt={setup(e){function t(r=4,d=""){if(!!r)return bn(6-r,void 0).map((g,f)=>{const b=""+d+r+f;return{label:a(r),key:b,children:t(r-1,b)}})}function a(r){return r===4?"\u9009\u9879\u4E00":r===3?"\u9009\u9879\u4E8C":r===2?"\u9009\u9879\u4E09":r===1?"\u9009\u9879\u56DB":""}const s=t();return console.log("data",s),(r,d)=>{const g=Ut;return gn(),dt(g,{"block-line":"",data:it(s),selectable:""},null,8,["data"])}}};const Vt={class:"file-side"},Ht={setup(e){return(t,a)=>(gn(),st("div",Vt,[ut(jt)]))}};var Wt=ct(Ht,[["__scopeId","data-v-9bf55316"]]);export{Wt as default};
