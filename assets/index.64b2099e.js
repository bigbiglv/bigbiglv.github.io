import{d as Z,aI as Jn,aJ as et,aE as bn,aK as nt,f as L,P as F,aL as X,aM as ln,aN as Re,h as x,at as tt,aO as an,aP as Ve,a3 as ot,c as qe,a as w,b as H,v as U,u as Ee,e as me,Q as rt,a8 as re,aQ as lt,i as Ae,g as We,N as gn,aR as mn,a6 as Ge,aS as yn,aT as ge,a5 as kn,O as B,aD as E,x as M,aU as Ie,z as it,A as at,B as dt,a4 as ct,aV as xn,a1 as st,J as ut,al as ft,aW as ht,ai as je,aX as pn,aY as dn,aZ as vt,a_ as cn,y as ze,a$ as bt,a9 as we,R as Le,aB as sn,b0 as un,b1 as gt,b2 as mt,b3 as fn,aj as yt,o as Cn,D as kt,l as xt,_ as pt,j as Ct,k as St}from"./index.683ae433.js";function Sn(e){return typeof e=="string"?`s-${e}`:`n-${e}`}function hn(e){return e&-e}class wt{constructor(n,r){this.l=n,this.min=r;const i=new Array(n+1);for(let o=0;o<n+1;++o)i[o]=0;this.ft=i}add(n,r){if(r===0)return;const{l:i,ft:o}=this;for(n+=1;n<=i;)o[n]+=r,n+=hn(n)}get(n){return this.sum(n+1)-this.sum(n)}sum(n){if(n===0)return 0;const{ft:r,min:i,l:o}=this;if(n===void 0&&(n=o),n>o)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let a=n*i;for(;n>0;)a+=r[n],n-=hn(n);return a}getBound(n){let r=0,i=this.l;for(;i>r;){const o=Math.floor((r+i)/2),a=this.sum(o);if(a>n){i=o;continue}else if(a<n){if(r===o)return this.sum(r+1)<=n?r+1:o;r=o}else return o}return r}}const Rt=Ve(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[Ve("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[Ve("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]);var Nt=Z({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const n=Jn();Rt.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:et,ssr:n}),bn(()=>{const{defaultScrollIndex:k,defaultScrollKey:c}=e;k!=null?p({index:k}):c!=null&&p({key:c})}),nt(()=>{p({top:g.value})});const r=L(()=>{const k=new Map,{keyField:c}=e;return e.items.forEach((z,D)=>{k.set(z[c],D)}),k}),i=F(null),o=F(void 0),a=new Map,v=L(()=>{const{items:k,itemSize:c,keyField:z}=e,D=new wt(k.length,c);return k.forEach((A,u)=>{const C=A[z],R=a.get(C);R!==void 0&&D.add(u,R)}),D}),f=F(0),g=F(0),h=X(()=>Math.max(v.value.getBound(g.value-ln(e.paddingTop))-1,0)),s=L(()=>{const{value:k}=o;if(k===void 0)return[];const{items:c,itemSize:z}=e,D=h.value,A=Math.min(D+Math.ceil(k/z+1),c.length-1),u=[];for(let C=D;C<=A;++C)u.push(c[C]);return u}),p=k=>{const{left:c,top:z,index:D,key:A,position:u,behavior:C,debounce:R=!0}=k;if(c!==void 0||z!==void 0)d(c,z,C);else if(D!==void 0)y(D,C,R);else if(A!==void 0){const j=r.value.get(A);j!==void 0&&y(j,C,R)}else u==="bottom"?d(0,Number.MAX_SAFE_INTEGER,C):u==="top"&&d(0,0,C)};function y(k,c,z){const{value:D}=v,A=D.sum(k)+ln(e.paddingTop);if(!z)i.value.scrollTo({left:0,top:A,behavior:c});else{const{scrollTop:u,offsetHeight:C}=i.value;if(A>u){const R=D.get(k);A+R<=u+C||i.value.scrollTo({left:0,top:A+R-C,behavior:c})}else i.value.scrollTo({left:0,top:A,behavior:c})}_=k}function d(k,c,z){i.value.scrollTo({left:k,top:c,behavior:z})}function S(k,c){var z,D,A,u;if(e.ignoreItemResize||$(c.target))return;const{value:C}=v,R=r.value.get(k),j=C.get(R),te=(A=(D=(z=c.borderBoxSize)===null||z===void 0?void 0:z[0])===null||D===void 0?void 0:D.blockSize)!==null&&A!==void 0?A:c.contentRect.height;if(te===j)return;te-e.itemSize===0?a.delete(k):a.set(k,te-e.itemSize);const G=te-j;G!==0&&(K!==void 0&&R<=K&&((u=i.value)===null||u===void 0||u.scrollBy(0,G)),C.add(R,G),f.value++)}function N(k){ot(O);const{onScroll:c}=e;c!==void 0&&c(k)}function I(k){if($(k.target)||k.contentRect.height===o.value)return;o.value=k.contentRect.height;const{onResize:c}=e;c!==void 0&&c(k)}let _,K;function O(){const{value:k}=i;k!=null&&(K=_!=null?_:h.value,_=void 0,g.value=i.value.scrollTop)}function $(k){let c=k;for(;c!==null;){if(c.style.display==="none")return!0;c=c.parentElement}return!1}return{listHeight:o,listStyle:{overflow:"auto"},keyToIndex:r,itemsStyle:L(()=>{const{itemResizable:k}=e,c=Re(v.value.sum());return f.value,[e.itemsStyle,{boxSizing:"content-box",height:k?"":c,minHeight:k?c:"",paddingTop:Re(e.paddingTop),paddingBottom:Re(e.paddingBottom)}]}),visibleItemsStyle:L(()=>(f.value,{transform:`translateY(${Re(v.value.sum(h.value))})`})),viewportItems:s,listElRef:i,itemsElRef:F(null),scrollTo:p,handleListResize:I,handleListScroll:N,handleItemResize:S}},render(){const{itemResizable:e,keyField:n,keyToIndex:r,visibleItemsTag:i}=this;return x(an,{onResize:this.handleListResize},{default:()=>{var o,a;return x("div",tt(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.onWheel,ref:"listElRef"}),[this.items.length!==0?x("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[x(i,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map(v=>{const f=v[n],g=r.get(f),h=this.$slots.default({item:v,index:g})[0];return e?x(an,{key:f,onResize:s=>this.handleItemResize(f,s)},{default:()=>h}):(h.key=f,h)})})]):(a=(o=this.$slots).empty)===null||a===void 0?void 0:a.call(o)])}})}}),Kt=Z({name:"Empty",render(){return x("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),x("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),Dt=Z({name:"Switcher",render(){return x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},x("path",{d:"M12 8l10 8l-10 8z"}))}}),Tt={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"};const zt=e=>{const{textColorDisabled:n,iconColor:r,textColor2:i,fontSizeSmall:o,fontSizeMedium:a,fontSizeLarge:v,fontSizeHuge:f}=e;return Object.assign(Object.assign({},Tt),{fontSizeSmall:o,fontSizeMedium:a,fontSizeLarge:v,fontSizeHuge:f,textColor:n,iconColor:r,extraTextColor:i})},Lt={name:"Empty",common:qe,self:zt};var wn=Lt,_t=w("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[H("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[U("+",[H("description",`
 margin-top: 8px;
 `)])]),H("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),H("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]);const It=Object.assign(Object.assign({},me.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function});var At=Z({name:"Empty",props:It,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:r}=Ee(e),i=me("Empty","-empty",_t,wn,e,n),{localeRef:o}=rt("Empty"),a=re(lt,null),v=L(()=>{var s,p,y;return(s=e.description)!==null&&s!==void 0?s:(y=(p=a==null?void 0:a.mergedComponentPropsRef.value)===null||p===void 0?void 0:p.Empty)===null||y===void 0?void 0:y.description}),f=L(()=>{var s,p;return((p=(s=a==null?void 0:a.mergedComponentPropsRef.value)===null||s===void 0?void 0:s.Empty)===null||p===void 0?void 0:p.renderIcon)||(()=>x(Kt,null))}),g=L(()=>{const{size:s}=e,{common:{cubicBezierEaseInOut:p},self:{[Ae("iconSize",s)]:y,[Ae("fontSize",s)]:d,textColor:S,iconColor:N,extraTextColor:I}}=i.value;return{"--n-icon-size":y,"--n-font-size":d,"--n-bezier":p,"--n-text-color":S,"--n-icon-color":N,"--n-extra-text-color":I}}),h=r?We("empty",L(()=>{let s="";const{size:p}=e;return s+=p[0],s}),g,e):void 0;return{mergedClsPrefix:n,mergedRenderIcon:f,localizedDescription:L(()=>v.value||o.value.description),cssVars:r?void 0:g,themeClass:h==null?void 0:h.themeClass,onRender:h==null?void 0:h.onRender}},render(){const{$slots:e,mergedClsPrefix:n,onRender:r}=this;return r==null||r(),x("div",{class:[`${n}-empty`,this.themeClass],style:this.cssVars},this.showIcon?x("div",{class:`${n}-empty__icon`},e.icon?e.icon():x(gn,{clsPrefix:n},{default:this.mergedRenderIcon})):null,this.showDescription?x("div",{class:`${n}-empty__description`},e.default?e.default():this.localizedDescription):null,e.extra?x("div",{class:`${n}-empty__extra`},e.extra()):null)}}),Et={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px"};const Pt=e=>{const{baseColor:n,inputColorDisabled:r,cardColor:i,modalColor:o,popoverColor:a,textColorDisabled:v,borderColor:f,primaryColor:g,textColor2:h,fontSizeSmall:s,fontSizeMedium:p,fontSizeLarge:y,borderRadiusSmall:d,lineHeight:S}=e;return Object.assign(Object.assign({},Et),{labelLineHeight:S,fontSizeSmall:s,fontSizeMedium:p,fontSizeLarge:y,borderRadius:d,color:n,colorChecked:g,colorDisabled:r,colorDisabledChecked:r,colorTableHeader:i,colorTableHeaderModal:o,colorTableHeaderPopover:a,checkMarkColor:n,checkMarkColorDisabled:v,checkMarkColorDisabledChecked:v,border:`1px solid ${f}`,borderDisabled:`1px solid ${f}`,borderDisabledChecked:`1px solid ${f}`,borderChecked:`1px solid ${g}`,borderFocus:`1px solid ${g}`,boxShadowFocus:`0 0 0 2px ${mn(g,{alpha:.3})}`,textColor:h,textColorDisabled:v})},Ft={name:"Checkbox",common:qe,self:Pt};var Rn=Ft,Bt=x("svg",{viewBox:"0 0 64 64",class:"check-icon"},x("path",{d:"M50.42,16.76L22.34,39.45l-8.1-11.46c-1.12-1.58-3.3-1.96-4.88-0.84c-1.58,1.12-1.95,3.3-0.84,4.88l10.26,14.51  c0.56,0.79,1.42,1.31,2.38,1.45c0.16,0.02,0.32,0.03,0.48,0.03c0.8,0,1.57-0.27,2.2-0.78l30.99-25.03c1.5-1.21,1.74-3.42,0.52-4.92  C54.13,15.78,51.93,15.55,50.42,16.76z"})),$t=x("svg",{viewBox:"0 0 100 100",class:"line-icon"},x("path",{d:"M80.2,55.5H21.4c-2.8,0-5.1-2.5-5.1-5.5l0,0c0-3,2.3-5.5,5.1-5.5h58.7c2.8,0,5.1,2.5,5.1,5.5l0,0C85.2,53.1,82.9,55.5,80.2,55.5z"}));const Nn=Ge("n-checkbox-group"),Mt={min:Number,max:Number,size:String,value:Array,defaultValue:{type:Array,default:null},disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:{type:[Function,Array],validator:()=>!0,default:void 0}};Z({name:"CheckboxGroup",props:Mt,setup(e){const{mergedClsPrefixRef:n}=Ee(e),r=yn(e),{mergedSizeRef:i,mergedDisabledRef:o}=r,a=F(e.defaultValue),v=L(()=>e.value),f=ge(v,a),g=L(()=>{var p;return((p=f.value)===null||p===void 0?void 0:p.length)||0}),h=L(()=>Array.isArray(f.value)?new Set(f.value):new Set);function s(p,y){const{nTriggerFormInput:d,nTriggerFormChange:S}=r,{onChange:N,"onUpdate:value":I,onUpdateValue:_}=e;if(Array.isArray(f.value)){const K=Array.from(f.value),O=K.findIndex($=>$===y);p?~O||(K.push(y),_&&E(_,K),I&&E(I,K),d(),S(),a.value=K,N&&E(N,K)):~O&&(K.splice(O,1),_&&E(_,K),I&&E(I,K),N&&E(N,K),a.value=K,d(),S())}else p?(_&&E(_,[y]),I&&E(I,[y]),N&&E(N,[y]),a.value=[y],d(),S()):(_&&E(_,[]),I&&E(I,[]),N&&E(N,[]),a.value=[],d(),S())}return kn(Nn,{checkedCountRef:g,maxRef:B(e,"max"),minRef:B(e,"min"),valueSetRef:h,disabledRef:o,mergedSizeRef:i,toggleCheckbox:s}),{mergedClsPrefix:n}},render(){return x("div",{class:`${this.mergedClsPrefix}-checkbox-group`,role:"group"},this.$slots)}});var Ot=U([w("checkbox",`
 line-height: var(--n-label-line-height);
 font-size: var(--n-font-size);
 outline: none;
 cursor: pointer;
 display: inline-flex;
 flex-wrap: nowrap;
 align-items: flex-start;
 word-break: break-word;
 --n-merged-color-table: var(--n-color-table);
 `,[U("&:hover",[w("checkbox-box",[H("border",{border:"var(--n-border-checked)"})])]),U("&:focus:not(:active)",[w("checkbox-box",[H("border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),M("inside-table",[w("checkbox-box",`
 background-color: var(--n-merged-color-table);
 `)]),M("checked",[w("checkbox-box",`
 background-color: var(--n-color-checked);
 `,[w("checkbox-icon",[U(".check-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),M("indeterminate",[w("checkbox-box",[w("checkbox-icon",[U(".check-icon",`
 opacity: 0;
 transform: scale(.5);
 `),U(".line-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),M("checked, indeterminate",[U("&:focus:not(:active)",[w("checkbox-box",[H("border",`
 border: var(--n-border-checked);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),w("checkbox-box",`
 background-color: var(--n-color-checked);
 border-left: 0;
 border-top: 0;
 `,[H("border",{border:"var(--n-border-checked)"})])]),M("disabled",{cursor:"not-allowed"},[M("checked",[w("checkbox-box",`
 background-color: var(--n-color-disabled-checked);
 `,[H("border",{border:"var(--n-border-disabled-checked)"}),w("checkbox-icon",[U(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled-checked)"})])])]),w("checkbox-box",`
 background-color: var(--n-color-disabled);
 `,[H("border",{border:"var(--n-border-disabled)"}),w("checkbox-icon",[U(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled)"})])]),H("label",{color:"var(--n-text-color-disabled)"})]),w("checkbox-box-wrapper",`
 position: relative;
 width: var(--n-size);
 flex-shrink: 0;
 flex-grow: 0;
 `),w("checkbox-box",`
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 height: var(--n-size);
 width: var(--n-size);
 display: inline-block;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color 0.3s var(--n-bezier);
 `,[H("border",`
 transition:
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border: var(--n-border);
 `),w("checkbox-icon",`
 display: flex;
 align-items: center;
 justify-content: center;
 position: absolute;
 left: 1px;
 right: 1px;
 top: 1px;
 bottom: 1px;
 `,[U(".check-icon, .line-icon",`
 width: 100%;
 fill: var(--n-check-mark-color);
 opacity: 0;
 transform: scale(0.5);
 transform-origin: center;
 transition:
 fill 0.3s var(--n-bezier),
 transform 0.3s var(--n-bezier),
 opacity 0.3s var(--n-bezier),
 border-color 0.3s var(--n-bezier);
 `),Ie({left:"1px",top:"1px"})])]),H("label",`
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 user-select: none;
 padding: var(--n-label-padding);
 `,[U("&:empty",{display:"none"})])]),it(w("checkbox",`
 --n-merged-color-table: var(--n-color-table-modal);
 `)),at(w("checkbox",`
 --n-merged-color-table: var(--n-color-table-popover);
 `))]);const Ut=Object.assign(Object.assign({},me.props),{size:String,checked:{type:[Boolean,String,Number],default:void 0},defaultChecked:{type:[Boolean,String,Number],default:!1},value:[String,Number],disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:String,focusable:{type:Boolean,default:!0},checkedValue:{type:[Boolean,String,Number],default:!0},uncheckedValue:{type:[Boolean,String,Number],default:!1},"onUpdate:checked":[Function,Array],onUpdateChecked:[Function,Array],privateInsideTable:Boolean,onChange:[Function,Array]});var Ht=Z({name:"Checkbox",props:Ut,setup(e){const n=F(null),{mergedClsPrefixRef:r,inlineThemeDisabled:i,mergedRtlRef:o}=Ee(e),a=yn(e,{mergedSize(c){const{size:z}=e;if(z!==void 0)return z;if(g){const{value:D}=g.mergedSizeRef;if(D!==void 0)return D}if(c){const{mergedSize:D}=c;if(D!==void 0)return D.value}return"medium"},mergedDisabled(c){const{disabled:z}=e;if(z!==void 0)return z;if(g){if(g.disabledRef.value)return!0;const{maxRef:{value:D},checkedCountRef:A}=g;if(D!==void 0&&A.value>=D&&!y.value)return!0;const{minRef:{value:u}}=g;if(u!==void 0&&A.value<=u&&y.value)return!0}return c?c.disabled.value:!1}}),{mergedDisabledRef:v,mergedSizeRef:f}=a,g=re(Nn,null),h=F(e.defaultChecked),s=B(e,"checked"),p=ge(s,h),y=X(()=>{if(g){const c=g.valueSetRef.value;return c&&e.value!==void 0?c.has(e.value):!1}else return p.value===e.checkedValue}),d=me("Checkbox","-checkbox",Ot,Rn,e,r);function S(c){if(g&&e.value!==void 0)g.toggleCheckbox(!y.value,e.value);else{const{onChange:z,"onUpdate:checked":D,onUpdateChecked:A}=e,{nTriggerFormInput:u,nTriggerFormChange:C}=a,R=y.value?e.uncheckedValue:e.checkedValue;D&&E(D,R,c),A&&E(A,R,c),z&&E(z,R,c),u(),C(),h.value=R}}function N(c){v.value||S(c)}function I(c){if(!v.value)switch(c.code){case"Space":case"Enter":case"NumpadEnter":S(c)}}function _(c){switch(c.code){case"Space":c.preventDefault()}}const K={focus:()=>{var c;(c=n.value)===null||c===void 0||c.focus()},blur:()=>{var c;(c=n.value)===null||c===void 0||c.blur()}},O=dt("Checkbox",o,r),$=L(()=>{const{value:c}=f,{common:{cubicBezierEaseInOut:z},self:{borderRadius:D,color:A,colorChecked:u,colorDisabled:C,colorTableHeader:R,colorTableHeaderModal:j,colorTableHeaderPopover:te,checkMarkColor:Ke,checkMarkColorDisabled:G,border:oe,borderFocus:ye,borderDisabled:Pe,borderChecked:Fe,boxShadowFocus:de,textColor:Be,textColorDisabled:De,checkMarkColorDisabledChecked:le,colorDisabledChecked:ce,borderDisabledChecked:se,labelPadding:ue,labelLineHeight:fe,[Ae("fontSize",c)]:$e,[Ae("size",c)]:ke}}=d.value;return{"--n-label-line-height":fe,"--n-size":ke,"--n-bezier":z,"--n-border-radius":D,"--n-border":oe,"--n-border-checked":Fe,"--n-border-focus":ye,"--n-border-disabled":Pe,"--n-border-disabled-checked":se,"--n-box-shadow-focus":de,"--n-color":A,"--n-color-checked":u,"--n-color-table":R,"--n-color-table-modal":j,"--n-color-table-popover":te,"--n-color-disabled":C,"--n-color-disabled-checked":ce,"--n-text-color":Be,"--n-text-color-disabled":De,"--n-check-mark-color":Ke,"--n-check-mark-color-disabled":G,"--n-check-mark-color-disabled-checked":le,"--n-font-size":$e,"--n-label-padding":ue}}),k=i?We("checkbox",L(()=>f.value[0]),$,e):void 0;return Object.assign(a,K,{rtlEnabled:O,selfRef:n,mergedClsPrefix:r,mergedDisabled:v,renderedChecked:y,mergedTheme:d,labelId:ct(),handleClick:N,handleKeyUp:I,handleKeyDown:_,cssVars:i?void 0:$,themeClass:k==null?void 0:k.themeClass,onRender:k==null?void 0:k.onRender})},render(){var e;const{$slots:n,renderedChecked:r,mergedDisabled:i,indeterminate:o,privateInsideTable:a,cssVars:v,labelId:f,label:g,mergedClsPrefix:h,focusable:s,handleKeyUp:p,handleKeyDown:y,handleClick:d}=this;return(e=this.onRender)===null||e===void 0||e.call(this),x("div",{ref:"selfRef",class:[`${h}-checkbox`,this.themeClass,this.rtlEnabled&&`${h}-checkbox--rtl`,r&&`${h}-checkbox--checked`,i&&`${h}-checkbox--disabled`,o&&`${h}-checkbox--indeterminate`,a&&`${h}-checkbox--inside-table`],tabindex:i||!s?void 0:0,role:"checkbox","aria-checked":o?"mixed":r,"aria-labelledby":f,style:v,onKeyup:p,onKeydown:y,onClick:d,onMousedown:()=>{st("selectstart",window,S=>{S.preventDefault()},{once:!0})}},x("div",{class:`${h}-checkbox-box-wrapper`},"\xA0",x("div",{class:`${h}-checkbox-box`},x(xn,null,{default:()=>this.indeterminate?x("div",{key:"indeterminate",class:`${h}-checkbox-icon`},$t):x("div",{key:"check",class:`${h}-checkbox-icon`},Bt)}),x("div",{class:`${h}-checkbox-box__border`}))),g!==null||n.default?x("span",{class:`${h}-checkbox__label`,id:f},n.default?n.default():g):null)}});const Vt=e=>{const{borderRadiusSmall:n,hoverColor:r,pressedColor:i,primaryColor:o,textColor3:a,textColor2:v,textColorDisabled:f,fontSize:g}=e;return{fontSize:g,nodeBorderRadius:n,nodeColorHover:r,nodeColorPressed:i,nodeColorActive:mn(o,{alpha:.1}),arrowColor:a,nodeTextColor:v,nodeTextColorDisabled:f,loadingColor:o,dropMarkColor:o}},jt=ut({name:"Tree",common:qe,peers:{Checkbox:Rn,Scrollbar:ft,Empty:wn},self:Vt});var qt=jt;const Kn=Ge("n-tree-select"),Ne=Ge("n-tree");var Wt=Z({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(e){const{renderSwitcherIconRef:n}=re(Ne,null);return()=>{const{clsPrefix:r}=e;return x("span",{"data-switcher":!0,class:[`${r}-tree-node-switcher`,{[`${r}-tree-node-switcher--expanded`]:e.expanded,[`${r}-tree-node-switcher--hide`]:e.hide}],onClick:e.onClick},x("div",{class:`${r}-tree-node-switcher__icon`},x(xn,null,{default:()=>{if(e.loading)return x(ht,{clsPrefix:r,key:"loading",radius:85,strokeWidth:20});const{value:i}=n;return i?i():x(gn,{clsPrefix:r,key:"switcher"},{default:()=>x(Dt,null)})}})))}}}),Gt=Z({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const n=re(Ne);function r(o){const{onCheck:a}=e;if(a)return a(o)}function i(o){e.indeterminate?r(!1):r(o)}return{handleUpdateValue:i,mergedTheme:n.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:n,checked:r,indeterminate:i,disabled:o,focusable:a,handleUpdateValue:v}=this;return x("span",{class:`${e}-tree-node-checkbox`,"data-checkbox":!0},x(Ht,{focusable:a,disabled:o,theme:n.peers.Checkbox,themeOverrides:n.peerOverrides.Checkbox,checked:r,indeterminate:i,onUpdateChecked:v}))}}),Yt=Z({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:n,renderPrefixRef:r,renderSuffixRef:i,labelFieldRef:o}=re(Ne),a=F(null);function v(g){const{onClick:h}=e;h&&h(g)}function f(g){v(g)}return{selfRef:a,renderLabel:n,renderPrefix:r,renderSuffix:i,labelField:o,handleClick:f}},render(){const{clsPrefix:e,labelField:n,nodeProps:r,checked:i=!1,selected:o=!1,renderLabel:a,renderPrefix:v,renderSuffix:f,handleClick:g,onDragstart:h,tmNode:{rawNode:s,rawNode:{prefix:p,suffix:y,[n]:d}}}=this;return x("span",Object.assign({},r,{ref:"selfRef",class:[`${e}-tree-node-content`,r==null?void 0:r.class],onClick:g,draggable:h===void 0?void 0:!0,onDragstart:h}),v||p?x("div",{class:`${e}-tree-node-content__prefix`},v?v({option:s,selected:o,checked:i}):je(p)):null,x("div",{class:`${e}-tree-node-content__text`},a?a({option:s,selected:o,checked:i}):je(d)),f||y?x("div",{class:`${e}-tree-node-content__suffix`},f?f({option:s,selected:o,checked:i}):je(y)):null)}});function vn({position:e,offsetLevel:n,indent:r,el:i}){const o={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")o.left=0,o.top=0,o.bottom=0,o.borderRadius="inherit",o.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const a=e==="before"?"top":"bottom";o[a]=0,o.left=`${i.offsetLeft+6-n*r}px`,o.height="2px",o.backgroundColor="var(--n-drop-mark-color)",o.transformOrigin=a,o.borderRadius="1px",o.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return x("div",{style:o})}function Xt({dropPosition:e,node:n}){return n.isLeaf===!1||n.children?!0:e!=="inside"}const Zt=Z({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const n=re(Ne),{droppingNodeParentRef:r,droppingMouseNodeRef:i,draggingNodeRef:o,droppingPositionRef:a,droppingOffsetLevelRef:v,nodePropsRef:f,indentRef:g,blockLineRef:h}=n,s=L(()=>n.disabledRef.value||e.tmNode.disabled),p=L(()=>{const{value:u}=f;if(!!u)return u({option:e.tmNode.rawNode})}),y=F(null),d={value:null};bn(()=>{d.value=y.value.$el});function S(){const{tmNode:u}=e;if(!u.isLeaf&&!u.shallowLoaded){n.loadingKeysRef.value.has(u.key)||n.loadingKeysRef.value.add(u.key);const{onLoadRef:{value:C}}=n;C&&C(u.rawNode).then(()=>{n.handleSwitcherClick(u)}).finally(()=>{n.loadingKeysRef.value.delete(u.key)})}else n.handleSwitcherClick(u)}const N=X(()=>!e.tmNode.disabled&&n.selectableRef.value&&(n.internalTreeSelect?n.mergedCheckStrategyRef.value!=="child"||n.multipleRef.value&&n.cascadeRef.value||e.tmNode.isLeaf:!0));function I(u){!N.value||dn(u,"checkbox")||dn(u,"switcher")||n.handleSelect(e.tmNode)}function _(u){var C,R;h.value||(s.value||I(u),(R=(C=p.value)===null||C===void 0?void 0:C.onClick)===null||R===void 0||R.call(C,u))}function K(u){var C,R;!h.value||(s.value||I(u),(R=(C=p.value)===null||C===void 0?void 0:C.onClick)===null||R===void 0||R.call(C,u))}function O(u){n.handleCheck(e.tmNode,u)}function $(u){n.handleDragStart({event:u,node:e.tmNode})}function k(u){u.currentTarget===u.target&&n.handleDragEnter({event:u,node:e.tmNode})}function c(u){u.preventDefault(),n.handleDragOver({event:u,node:e.tmNode})}function z(u){n.handleDragEnd({event:u,node:e.tmNode})}function D(u){u.currentTarget===u.target&&n.handleDragLeave({event:u,node:e.tmNode})}function A(u){u.preventDefault(),a.value!==null&&n.handleDrop({event:u,node:e.tmNode,dropPosition:a.value})}return{showDropMark:X(()=>{const{value:u}=o;if(!u)return;const{value:C}=a;if(!C)return;const{value:R}=i;if(!R)return;const{tmNode:j}=e;return j.key===R.key}),showDropMarkAsParent:X(()=>{const{value:u}=r;if(!u)return!1;const{tmNode:C}=e,{value:R}=a;return R==="before"||R==="after"?u.key===C.key:!1}),pending:X(()=>n.pendingNodeKeyRef.value===e.tmNode.key),loading:X(()=>n.loadingKeysRef.value.has(e.tmNode.key)),highlight:X(()=>{var u;return(u=n.highlightKeySetRef.value)===null||u===void 0?void 0:u.has(e.tmNode.key)}),checked:X(()=>n.displayedCheckedKeysRef.value.includes(e.tmNode.key)),indeterminate:X(()=>n.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:X(()=>n.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:X(()=>n.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:s,checkable:L(()=>n.checkableRef.value&&(n.cascadeRef.value||n.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),checkboxDisabled:L(()=>!!e.tmNode.rawNode.checkboxDisabled),selectable:N,internalScrollable:n.internalScrollableRef,draggable:n.draggableRef,blockLine:h,nodeProps:p,checkboxFocusable:n.internalCheckboxFocusableRef,droppingPosition:a,droppingOffsetLevel:v,indent:g,contentInstRef:y,contentElRef:d,handleCheck:O,handleDrop:A,handleDragStart:$,handleDragEnter:k,handleDragOver:c,handleDragEnd:z,handleDragLeave:D,handleLineClick:K,handleContentClick:_,handleSwitcherClick:S}},render(){const{tmNode:e,clsPrefix:n,checkable:r,selectable:i,selected:o,checked:a,highlight:v,draggable:f,blockLine:g,indent:h,disabled:s,pending:p,internalScrollable:y,nodeProps:d}=this,S=f&&!s?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,N=y?Sn(e.key):void 0;return x("div",Object.assign({class:`${n}-tree-node-wrapper`},S),x("div",Object.assign({},g?d:void 0,{class:[`${n}-tree-node`,{[`${n}-tree-node--selected`]:o,[`${n}-tree-node--checkable`]:r,[`${n}-tree-node--highlight`]:v,[`${n}-tree-node--pending`]:p,[`${n}-tree-node--disabled`]:s,[`${n}-tree-node--selectable`]:i},d==null?void 0:d.class],"data-key":N,draggable:f&&g,onClick:this.handleLineClick,onDragstart:f&&g&&!s?this.handleDragStart:void 0}),pn(e.level,x("div",{class:`${n}-tree-node-indent`,style:{flex:`0 0 ${h}px`}})),x(Wt,{clsPrefix:n,expanded:this.expanded,loading:this.loading,hide:e.isLeaf,onClick:this.handleSwitcherClick}),r?x(Gt,{focusable:this.checkboxFocusable,disabled:s||this.checkboxDisabled,clsPrefix:n,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null,x(Yt,{ref:"contentInstRef",clsPrefix:n,checked:a,selected:o,onClick:this.handleContentClick,nodeProps:g?void 0:d,onDragstart:f&&!g&&!s?this.handleDragStart:void 0,tmNode:e}),f?this.showDropMark?vn({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:h}):this.showDropMarkAsParent?vn({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:h}):null:null))}});var Dn=Zt;function Tn(e,n,r,i){e==null||e.forEach(o=>{r(o),Tn(o[n],n,r,i),i(o)})}function Qt(e,n,r,i,o){const a=new Set,v=new Set,f=[];return Tn(e,i,g=>{if(f.push(g),o(n,g)){v.add(g[r]);for(let h=f.length-2;h>=0;--h)if(!a.has(f[h][r]))a.add(f[h][r]);else return}},()=>{f.pop()}),{expandedKeys:Array.from(a),highlightKeySet:v}}if(typeof window!="undefined"&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function Jt(e,n,r,i,o){const a=new Set,v=new Set,f=new Set,g=[],h=[],s=[];function p(d){d.forEach(S=>{if(s.push(S),n(r,S)){a.add(S[i]),f.add(S[i]);for(let I=s.length-2;I>=0;--I){const _=s[I][i];if(!v.has(_))v.add(_),a.has(_)&&a.delete(_);else break}}const N=S[o];N&&p(N),s.pop()})}p(e);function y(d,S){d.forEach(N=>{const I=N[i],_=a.has(I),K=v.has(I);if(!_&&!K)return;const O=N[o];if(O)if(_)S.push(N);else{g.push(I);const $=Object.assign(Object.assign({},N),{[o]:[]});S.push($),y(O,$[o])}else S.push(N)})}return y(e,h),{filteredTree:h,highlightKeySet:f,expandedKeys:g}}function eo({fNodesRef:e,mergedExpandedKeysRef:n,mergedSelectedKeysRef:r,handleSelect:i,handleSwitcherClick:o}){const{value:a}=r,v=re(Kn,null),f=v?v.pendingNodeKeyRef:F(a.length?a[a.length-1]:null);function g(s){const{value:p}=f;if(p===null){if(["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(s.code)&&p===null){const{value:y}=e;let d=0;for(;d<y.length;){if(!y[d].disabled){f.value=y[d].key;break}d+=1}}}else{const{value:y}=e;let d=y.findIndex(S=>S.key===p);if(!~d)return;if(s.code==="Enter"||s.code==="NumpadEnter")i(y[d]);else if(s.code==="ArrowDown")for(d+=1;d<y.length;){if(!y[d].disabled){f.value=y[d].key;break}d+=1}else if(s.code==="ArrowUp")for(d-=1;d>=0;){if(!y[d].disabled){f.value=y[d].key;break}d-=1}else if(s.code==="ArrowLeft"){const S=y[d];if(S.isLeaf||!n.value.includes(p)){const N=S.getParent();N&&(f.value=N.key)}else o(S)}else if(s.code==="ArrowRight"){const S=y[d];if(S.isLeaf)return;if(!n.value.includes(p))o(S);else for(d+=1;d<y.length;){if(!y[d].disabled){f.value=y[d].key;break}d+=1}}}}function h(s){switch(s.code){case"ArrowUp":case"ArrowDown":s.preventDefault()}}return{pendingNodeKeyRef:f,handleKeyup:g,handleKeydown:h}}var no=Z({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return x(vt,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>x("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:Re(this.height)}},this.nodes.map(n=>x(Dn,{clsPrefix:e,tmNode:n})))})}}),to=w("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[U("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),U(">",[w("tree-node",[U("&:first-child",{marginTop:0})])]),w("tree-node-indent",`
 height: 0;
 `),w("tree-motion-wrapper",[M("expand",[cn({duration:"0.2s"})]),M("collapse",[cn({duration:"0.2s",reverse:!0})])]),w("tree-node-wrapper",`
 box-sizing: border-box;
 padding: 3px 0;
 `),w("tree-node",`
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[M("highlight",[w("tree-node-content",[H("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),M("disabled",[w("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),ze("disabled",[M("selectable",[w("tree-node-content",`
 cursor: pointer;
 `)])])]),M("block-node",[w("tree-node-content",`
 width: 100%;
 `)]),ze("block-line",[w("tree-node",[ze("disabled",[w("tree-node-content",[U("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),M("selectable",[w("tree-node-content",[U("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),M("pending",[w("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),M("selected",[w("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),M("block-line",[w("tree-node",[ze("disabled",[U("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),M("selectable",[U("&:active",{backgroundColor:"var(--n-node-color-pressed)"})]),M("pending",`
 background-color: var(--n-node-color-hover);
 `),M("selected",{backgroundColor:"var(--n-node-color-active)"})]),M("disabled",`
 cursor: not-allowed;
 `)])]),w("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[H("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[w("icon",[Ie()]),w("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[Ie()]),w("base-icon",[Ie()])]),M("hide",{visibility:"hidden"}),M("expanded",{transform:"rotate(90deg)"})]),w("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `),M("checkable",[w("tree-node-content",`
 padding: 0 6px;
 `)]),w("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[U("&:last-child",{marginBottom:0}),H("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),H("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow:1;
 `),H("suffix",`
 display: inline-flex;
 `)]),H("empty","margin: auto;")]),oo=globalThis&&globalThis.__awaiter||function(e,n,r,i){function o(a){return a instanceof r?a:new r(function(v){v(a)})}return new(r||(r=Promise))(function(a,v){function f(s){try{h(i.next(s))}catch(p){v(p)}}function g(s){try{h(i.throw(s))}catch(p){v(p)}}function h(s){s.done?a(s.value):o(s.value).then(f,g)}h((i=i.apply(e,n||[])).next())})};const _e=30;function ro(e,n){return{getKey(r){return r[e]},getChildren(r){return r[n]},getDisabled(r){return!!(r.disabled||r.checkboxDisabled)}}}const lo={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},io=Object.assign(Object.assign(Object.assign(Object.assign({},me.props),{showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:Xt},animated:{type:Boolean,default:!0},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,renderSwitcherIcon:Function,nodeProps:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),lo),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean});var ao=Z({name:"Tree",props:io,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:r}=Ee(e),i=me("Tree","-tree",to,qt,e,n),o=F(null),a=F(null),v=F(null);function f(){var t;return(t=v.value)===null||t===void 0?void 0:t.listElRef}function g(){var t;return(t=v.value)===null||t===void 0?void 0:t.itemsElRef}const h=L(()=>{const{pattern:t}=e;return t?!t.length||!ke.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:Jt(e.data,ke.value,t,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),s=L(()=>bt(e.showIrrelevantNodes?e.data:h.value.filteredTree,ro(e.keyField,e.childrenField))),p=re(Kn,null),y=e.internalTreeSelect?p.dataTreeMate:s,{watchProps:d}=e,S=F([]);d!=null&&d.includes("defaultCheckedKeys")?we(()=>{S.value=e.defaultCheckedKeys}):S.value=e.defaultCheckedKeys;const N=B(e,"checkedKeys"),I=ge(N,S),_=L(()=>y.value.getCheckedKeys(I.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),K=L(()=>e.leafOnly?"child":e.checkStrategy),O=L(()=>_.value.checkedKeys),$=L(()=>{const{indeterminateKeys:t}=e;return t!==void 0?t:_.value.indeterminateKeys}),k=F([]);d!=null&&d.includes("defaultSelectedKeys")?we(()=>{k.value=e.defaultSelectedKeys}):k.value=e.defaultSelectedKeys;const c=B(e,"selectedKeys"),z=ge(c,k),D=F([]),A=t=>{D.value=e.defaultExpandAll?y.value.getNonLeafKeys():t===void 0?e.defaultExpandedKeys:t};d!=null&&d.includes("defaultExpandedKeys")?we(()=>A(void 0)):we(()=>A(e.defaultExpandedKeys));const u=B(e,"expandedKeys"),C=ge(u,D),R=L(()=>s.value.getFlattenedNodes(C.value)),{pendingNodeKeyRef:j,handleKeyup:te,handleKeydown:Ke}=eo({mergedSelectedKeysRef:z,fNodesRef:R,mergedExpandedKeysRef:C,handleSelect:Oe,handleSwitcherClick:Qe});let G=null,oe=null;const ye=F(new Set),Pe=L(()=>e.internalHighlightKeySet||h.value.highlightKeySet),Fe=ge(Pe,ye),de=F(new Set),Be=L(()=>C.value.filter(t=>!de.value.has(t)));let De=0;const le=F(null),ce=F(null),se=F(null),ue=F(null),fe=F(0),$e=L(()=>{const{value:t}=ce;return t?t.parent:null}),ke=L(()=>{const{filter:t}=e;if(t)return t;const{labelField:l}=e;return(b,m)=>b.length?m[l].toLowerCase().includes(b.toLowerCase()):!0});Le(B(e,"data"),()=>{de.value.clear(),j.value=null,pe()},{deep:!1});let xe;Le(B(e,"pattern"),(t,l)=>{if(e.showIrrelevantNodes)if(xe=void 0,t){const{expandedKeys:b,highlightKeySet:m}=Qt(e.data,e.pattern,e.keyField,e.childrenField,ke.value);ye.value=m,ve(b,Q(b))}else ye.value=new Set;else if(!t.length)xe!==void 0&&ve(xe,Q(xe));else{l.length||(xe=C.value);const{expandedKeys:b}=h.value;b!==void 0&&ve(b,Q(b))}});function Ye(t){return oo(this,void 0,void 0,function*(){const{onLoad:l}=e;if(!l)return yield Promise.resolve();const{value:b}=de;return yield new Promise(m=>{b.has(t.key)||(b.add(t.key),l(t.rawNode).then(()=>{b.delete(t.key),m()}).catch(T=>{console.error(T),Ce()}))})})}we(()=>{var t;const{value:l}=s;if(!l)return;const{getNode:b}=l;(t=C.value)===null||t===void 0||t.forEach(m=>{const T=b(m);T&&!T.shallowLoaded&&Ye(T)})});const he=F(!1),ne=F([]);Le(Be,(t,l)=>{if(!e.animated){sn(Te);return}const b=new Set(l);let m=null,T=null;for(const V of t)if(!b.has(V)){if(m!==null)return;m=V}const J=new Set(t);for(const V of l)if(!J.has(V)){if(T!==null)return;T=V}if(m!==null&&T!==null||m===null&&T===null)return;const{virtualScroll:q}=e,Se=(q?v.value.listElRef:o.value).offsetHeight,ae=Math.ceil(Se/_e)+1;if(m!==null){he.value=!0,ne.value=s.value.getFlattenedNodes(l);const V=ne.value.findIndex(W=>W.key===m);if(~V){const W=un(ne.value[V].children,t);ne.value.splice(V+1,0,{__motion:!0,mode:"expand",height:q?W.length*_e:void 0,nodes:q?W.slice(0,ae):W})}}if(T!==null){ne.value=s.value.getFlattenedNodes(t);const V=ne.value.findIndex(W=>W.key===T);if(~V){const W=ne.value[V].children;if(!W)return;he.value=!0;const ee=un(W,t);ne.value.splice(V+1,0,{__motion:!0,mode:"collapse",height:q?ee.length*_e:void 0,nodes:q?ee.slice(0,ae):ee})}}});const zn=L(()=>gt(R.value)),Ln=L(()=>he.value?ne.value:R.value);function Te(){const{value:t}=a;t&&t.sync()}function _n(){he.value=!1,e.virtualScroll&&sn(Te)}function Q(t){const{getNode:l}=y.value;return t.map(b=>{var m;return((m=l(b))===null||m===void 0?void 0:m.rawNode)||null})}function ve(t,l){const{"onUpdate:expandedKeys":b,onUpdateExpandedKeys:m}=e;D.value=t,b&&E(b,t,l),m&&E(m,t,l)}function Xe(t,l){const{"onUpdate:checkedKeys":b,onUpdateCheckedKeys:m}=e;S.value=t,m&&E(m,t,l),b&&E(b,t,l)}function In(t,l){const{"onUpdate:indeterminateKeys":b,onUpdateIndeterminateKeys:m}=e;b&&E(b,t,l),m&&E(m,t,l)}function Me(t,l){const{"onUpdate:selectedKeys":b,onUpdateSelectedKeys:m}=e;k.value=t,m&&E(m,t,l),b&&E(b,t,l)}function An(t){const{onDragenter:l}=e;l&&E(l,t)}function En(t){const{onDragleave:l}=e;l&&E(l,t)}function Pn(t){const{onDragend:l}=e;l&&E(l,t)}function Fn(t){const{onDragstart:l}=e;l&&E(l,t)}function Bn(t){const{onDragover:l}=e;l&&E(l,t)}function $n(t){const{onDrop:l}=e;l&&E(l,t)}function pe(){Mn(),ie()}function Mn(){le.value=null}function ie(){fe.value=0,ce.value=null,se.value=null,ue.value=null,Ce()}function Ce(){G&&(window.clearTimeout(G),G=null),oe=null}function Ze(t,l){if(e.disabled||t.disabled)return;if(e.internalUnifySelectCheck&&!e.multiple){Oe(t);return}const{checkedKeys:b,indeterminateKeys:m}=y.value[l?"check":"uncheck"](t.key,O.value,{cascade:e.cascade,checkStrategy:K.value,allowNotLoaded:e.allowCheckingNotLoaded});Xe(b,Q(b)),In(m,Q(m))}function On(t){if(e.disabled)return;const{value:l}=C,b=l.findIndex(m=>m===t);if(~b){const m=Array.from(l);m.splice(b,1),ve(m,Q(m))}else{const m=s.value.getNode(t);if(!m||m.isLeaf)return;const T=l.concat(t);ve(T,Q(T))}}function Qe(t){e.disabled||he.value||On(t.key)}function Oe(t){if(!(e.disabled||!e.selectable)){if(j.value=t.key,e.internalUnifySelectCheck){const{value:{checkedKeys:l,indeterminateKeys:b}}=_;e.multiple?Ze(t,!(l.includes(t.key)||b.includes(t.key))):Xe([t.key],Q([t.key]))}if(e.multiple){const l=Array.from(z.value),b=l.findIndex(m=>m===t.key);~b?e.cancelable&&l.splice(b,1):~b||l.push(t.key),Me(l,Q(l))}else z.value.includes(t.key)?e.cancelable&&Me([],[]):Me([t.key],Q([t.key]))}}function Un(t){if(G&&(window.clearTimeout(G),G=null),t.isLeaf)return;oe=t.key;const l=()=>{if(oe!==t.key)return;const{value:b}=se;if(b&&b.key===t.key&&!C.value.includes(t.key)){const m=C.value.concat(t.key);ve(m,Q(m))}G=null,oe=null};t.shallowLoaded?G=window.setTimeout(()=>{l()},1e3):G=window.setTimeout(()=>{Ye(t).then(()=>{l()})},1e3)}function Hn({event:t,node:l}){!e.draggable||e.disabled||l.disabled||(Je({event:t,node:l},!1),An({event:t,node:l.rawNode}))}function Vn({event:t,node:l}){!e.draggable||e.disabled||l.disabled||En({event:t,node:l.rawNode})}function jn(t){t.target===t.currentTarget&&ie()}function qn({event:t,node:l}){pe(),!(!e.draggable||e.disabled||l.disabled)&&Pn({event:t,node:l.rawNode})}function Wn({event:t,node:l}){!e.draggable||e.disabled||l.disabled||(De=t.clientX,le.value=l,Fn({event:t,node:l.rawNode}))}function Je({event:t,node:l},b=!0){var m;if(!e.draggable||e.disabled||l.disabled)return;const{value:T}=le;if(!T)return;const{allowDrop:J,indent:q}=e;b&&Bn({event:t,node:l.rawNode});const Se=t.currentTarget,{height:ae,top:V}=Se.getBoundingClientRect(),W=t.clientY-V;let ee;J({node:l.rawNode,dropPosition:"inside",phase:"drag"})?W<=8?ee="before":W>=ae-8?ee="after":ee="inside":W<=ae/2?ee="before":ee="after";const{value:Qn}=zn;let P,Y;const Ue=Qn(l.key);if(Ue===null){ie();return}let tn=!1;ee==="inside"?(P=l,Y="inside"):ee==="before"?l.isFirstChild?(P=l,Y="before"):(P=R.value[Ue-1],Y="after"):(P=l,Y="after"),!P.isLeaf&&C.value.includes(P.key)&&(tn=!0,Y==="after"&&(P=R.value[Ue+1],P?Y="before":(P=l,Y="inside")));const on=P;if(se.value=on,!tn&&T.isLastChild&&T.key===P.key&&(Y="after"),Y==="after"){let rn=De-t.clientX,He=0;for(;rn>=q/2&&P.parent!==null&&P.isLastChild&&He<1;)rn-=q,He+=1,P=P.parent;fe.value=He}else fe.value=0;if((T.contains(P)||Y==="inside"&&((m=T.parent)===null||m===void 0?void 0:m.key)===P.key)&&!(T.key===on.key&&T.key===P.key)){ie();return}if(!J({node:P.rawNode,dropPosition:Y,phase:"drag"})){ie();return}if(T.key===P.key)Ce();else if(oe!==P.key)if(Y==="inside"){if(e.expandOnDragenter){if(Un(P),!P.shallowLoaded&&oe!==P.key){pe();return}}else if(!P.shallowLoaded){pe();return}}else Ce();else Y!=="inside"&&Ce();ue.value=Y,ce.value=P}function Gn({event:t,node:l,dropPosition:b}){if(!e.draggable||e.disabled||l.disabled)return;const{value:m}=le,{value:T}=ce,{value:J}=ue;if(!(!m||!T||!J)&&!!e.allowDrop({node:T.rawNode,dropPosition:J,phase:"drag"})&&m.key!==T.key){if(J==="before"){const q=m.getNext({includeDisabled:!0});if(q&&q.key===T.key){ie();return}}if(J==="after"){const q=m.getPrev({includeDisabled:!0});if(q&&q.key===T.key){ie();return}}$n({event:t,node:T.rawNode,dragNode:m.rawNode,dropPosition:b}),pe()}}function Yn(){Te()}function Xn(){Te()}function Zn(t){var l;if(e.virtualScroll||e.internalScrollable){const{value:b}=a;if(!((l=b==null?void 0:b.containerRef)===null||l===void 0)&&l.contains(t.relatedTarget))return;j.value=null}else{const{value:b}=o;if(b!=null&&b.contains(t.relatedTarget))return;j.value=null}}Le(j,t=>{var l,b;if(t!==null){if(e.virtualScroll)(l=v.value)===null||l===void 0||l.scrollTo({key:t});else if(e.internalScrollable){const{value:m}=a;if(m===null)return;const T=(b=m.contentRef)===null||b===void 0?void 0:b.querySelector(`[data-key="${Sn(t)}"]`);if(!T)return;m.scrollTo({el:T})}}}),kn(Ne,{loadingKeysRef:de,highlightKeySetRef:Fe,displayedCheckedKeysRef:O,displayedIndeterminateKeysRef:$,mergedSelectedKeysRef:z,mergedExpandedKeysRef:C,mergedThemeRef:i,mergedCheckStrategyRef:K,nodePropsRef:B(e,"nodeProps"),disabledRef:B(e,"disabled"),checkableRef:B(e,"checkable"),selectableRef:B(e,"selectable"),onLoadRef:B(e,"onLoad"),draggableRef:B(e,"draggable"),blockLineRef:B(e,"blockLine"),indentRef:B(e,"indent"),cascadeRef:B(e,"cascade"),droppingMouseNodeRef:se,droppingNodeParentRef:$e,draggingNodeRef:le,droppingPositionRef:ue,droppingOffsetLevelRef:fe,fNodesRef:R,pendingNodeKeyRef:j,internalScrollableRef:B(e,"internalScrollable"),internalCheckboxFocusableRef:B(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:B(e,"renderLabel"),renderPrefixRef:B(e,"renderPrefix"),renderSuffixRef:B(e,"renderSuffix"),renderSwitcherIconRef:B(e,"renderSwitcherIcon"),labelFieldRef:B(e,"labelField"),multipleRef:B(e,"multiple"),handleSwitcherClick:Qe,handleDragEnd:qn,handleDragEnter:Hn,handleDragLeave:Vn,handleDragStart:Wn,handleDrop:Gn,handleDragOver:Je,handleSelect:Oe,handleCheck:Ze});const en={handleKeydown:Ke,handleKeyup:te},nn=L(()=>{const{common:{cubicBezierEaseInOut:t},self:{fontSize:l,nodeBorderRadius:b,nodeColorHover:m,nodeColorPressed:T,nodeColorActive:J,arrowColor:q,loadingColor:Se,nodeTextColor:ae,nodeTextColorDisabled:V,dropMarkColor:W}}=i.value;return{"--n-arrow-color":q,"--n-loading-color":Se,"--n-bezier":t,"--n-font-size":l,"--n-node-border-radius":b,"--n-node-color-active":J,"--n-node-color-hover":m,"--n-node-color-pressed":T,"--n-node-text-color":ae,"--n-node-text-color-disabled":V,"--n-drop-mark-color":W}}),be=r?We("tree",void 0,nn,e):void 0;return{mergedClsPrefix:n,mergedTheme:i,fNodes:Ln,aip:he,selfElRef:o,virtualListInstRef:v,scrollbarInstRef:a,handleFocusout:Zn,handleDragLeaveTree:jn,handleScroll:Yn,getScrollContainer:f,getScrollContent:g,handleAfterEnter:_n,handleResize:Xn,handleKeydown:en.handleKeydown,handleKeyup:en.handleKeyup,cssVars:r?void 0:nn,themeClass:be==null?void 0:be.themeClass,onRender:be==null?void 0:be.onRender}},render(){var e;const{fNodes:n,internalRenderEmpty:r}=this;if(!n.length&&r)return r();const{mergedClsPrefix:i,blockNode:o,blockLine:a,draggable:v,disabled:f,internalFocusable:g,checkable:h,handleKeyup:s,handleKeydown:p,handleFocusout:y}=this,d=g&&!f,S=d?"0":void 0,N=[`${i}-tree`,h&&`${i}-tree--checkable`,(a||o)&&`${i}-tree--block-node`,a&&`${i}-tree--block-line`],I=K=>"__motion"in K?x(no,{height:K.height,nodes:K.nodes,clsPrefix:i,mode:K.mode,onAfterEnter:this.handleAfterEnter}):x(Dn,{key:K.key,tmNode:K,clsPrefix:i});if(this.virtualScroll){const{mergedTheme:K,internalScrollablePadding:O}=this,$=mt(O||"0");return x(fn,{ref:"scrollbarInstRef",onDragleave:v?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:N,theme:K.peers.Scrollbar,themeOverrides:K.peerOverrides.Scrollbar,tabindex:S,onKeyup:d?s:void 0,onKeydown:d?p:void 0,onFocusout:d?y:void 0},{default:()=>{var k;return(k=this.onRender)===null||k===void 0||k.call(this),x(Nt,{ref:"virtualListInstRef",items:this.fNodes,itemSize:_e,ignoreItemResize:this.aip,paddingTop:$.top,paddingBottom:$.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:$.left,paddingRight:$.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:c})=>I(c)})}})}const{internalScrollable:_}=this;return N.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),_?x(fn,{class:N,tabindex:S,onKeyup:d?s:void 0,onKeydown:d?p:void 0,onFocusout:d?y:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>x("div",{onDragleave:v?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(I))}):x("div",{class:N,tabindex:S,ref:"selfElRef",style:this.cssVars,onKeyup:d?s:void 0,onKeydown:d?p:void 0,onFocusout:d?y:void 0,onDragleave:v?this.handleDragLeaveTree:void 0},n.length?n.map(I):yt(this.$slots.empty,()=>{var K,O,$,k;return[x(At,{class:`${i}-tree__empty`,theme:(O=(K=this.theme)===null||K===void 0?void 0:K.peers)===null||O===void 0?void 0:O.Empty,themeOverrides:(k=($=this.themeOverrides)===null||$===void 0?void 0:$.peers)===null||k===void 0?void 0:k.Empty})]}))}});const co={setup(e){function n(o=4,a=""){if(!!o)return pn(6-o,void 0).map((v,f)=>{const g=""+a+o+f;return{label:r(o),key:g,children:n(o-1,g)}})}function r(o){return o===4?"\u9009\u9879\u4E00":o===3?"\u9009\u9879\u4E8C":o===2?"\u9009\u9879\u4E09":o===1?"\u9009\u9879\u56DB":""}const i=n();return console.log("data",i),(o,a)=>{const v=ao;return Cn(),kt(v,{"block-line":"",data:xt(i),selectable:""},null,8,["data"])}}};const so={class:"file-side"},uo={setup(e){return(n,r)=>(Cn(),Ct("div",so,[St(co)]))}};var vo=pt(uo,[["__scopeId","data-v-9bf55316"]]);export{vo as default};
