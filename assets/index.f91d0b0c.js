import{a$ as ct,f as T,P as A,T as ut,d as Z,h as y,c as tn,ax as _n,u as Ae,aE as Nn,aB as ke,a5 as on,O as E,a6 as Ve,aK as $,v as F,a as C,b as W,x as B,b0 as Ue,z as ft,A as ht,a8 as ie,ak as q,e as xe,B as vt,i as nn,g as an,a4 as bt,b1 as Kn,a1 as gt,aX as ze,a7 as pt,aZ as mt,a3 as yt,b2 as kt,b3 as xt,b4 as wt,aY as Ct,J as St,ai as Rt,L as _t,aD as Nt,ar as Dn,$ as Kt,N as Dt,al as en,ad as Tn,b5 as Tt,av as gn,b6 as Lt,b7 as pn,y as Ie,aC as zt,a9 as Ke,R as Be,ae as mn,b8 as yn,am as At,ao as $t,b9 as kn,at as Et,o as Q,j as ue,s as re,_ as Pt,aR as It,G as De,w as H,k as G,l as Fe,q as xn,aS as Me,D as wn,F as Cn,ba as Bt,aV as Ft,aa as Mt,bb as Ot,bc as Ut,bd as Vt}from"./index.2d0077df.js";import{e as jt,V as Ht,N as Gt}from"./Empty.5e195cd3.js";function qt(e){if(typeof e=="number")return{"":e.toString()};const n={};return e.split(/ +/).forEach(o=>{if(o==="")return;const[r,a]=o.split(":");a===void 0?n[""]=r:n[r]=a}),n}function Te(e,n){var o;if(e==null)return;const r=qt(e);if(n===void 0)return r[""];if(typeof n=="string")return(o=r[n])!==null&&o!==void 0?o:r[""];if(Array.isArray(n)){for(let a=n.length-1;a>=0;--a){const l=n[a];if(l in r)return r[l]}return r[""]}else{let a,l=-1;return Object.keys(r).forEach(d=>{const s=Number(d);!Number.isNaN(s)&&n>=s&&s>=l&&(l=s,a=r[d])}),a}}function Ln(e){return typeof e=="string"?`s-${e}`:`n-${e}`}const Wt={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function Yt(e){return`(min-width: ${e}px)`}const Le={};function Xt(e=Wt){if(!ct)return T(()=>[]);if(typeof window.matchMedia!="function")return T(()=>[]);const n=A({}),o=Object.keys(e),r=(a,l)=>{a.matches?n.value[l]=!0:n.value[l]=!1};return o.forEach(a=>{const l=e[a];let d,s;Le[l]===void 0?(d=window.matchMedia(Yt(l)),d.addEventListener?d.addEventListener("change",u=>{s.forEach(f=>{f(u,a)})}):d.addListener&&d.addListener(u=>{s.forEach(f=>{f(u,a)})}),s=new Set,Le[l]={mql:d,cbs:s}):(d=Le[l].mql,s=Le[l].cbs),s.add(r),d.matches&&s.forEach(u=>{u(d,a)})}),ut(()=>{o.forEach(a=>{const{cbs:l}=Le[e[a]];l.has(r)&&l.delete(r)})}),T(()=>{const{value:a}=n;return o.filter(l=>a[l])})}var Qt=Z({name:"Switcher",render(){return y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},y("path",{d:"M12 8l10 8l-10 8z"}))}}),Zt={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px"};const Jt=e=>{const{baseColor:n,inputColorDisabled:o,cardColor:r,modalColor:a,popoverColor:l,textColorDisabled:d,borderColor:s,primaryColor:u,textColor2:f,fontSizeSmall:h,fontSizeMedium:k,fontSizeLarge:b,borderRadiusSmall:c,lineHeight:m}=e;return Object.assign(Object.assign({},Zt),{labelLineHeight:m,fontSizeSmall:h,fontSizeMedium:k,fontSizeLarge:b,borderRadius:c,color:n,colorChecked:u,colorDisabled:o,colorDisabledChecked:o,colorTableHeader:r,colorTableHeaderModal:a,colorTableHeaderPopover:l,checkMarkColor:n,checkMarkColorDisabled:d,checkMarkColorDisabledChecked:d,border:`1px solid ${s}`,borderDisabled:`1px solid ${s}`,borderDisabledChecked:`1px solid ${s}`,borderChecked:`1px solid ${u}`,borderFocus:`1px solid ${u}`,boxShadowFocus:`0 0 0 2px ${_n(u,{alpha:.3})}`,textColor:f,textColorDisabled:d})},eo={name:"Checkbox",common:tn,self:Jt};var zn=eo,no=y("svg",{viewBox:"0 0 64 64",class:"check-icon"},y("path",{d:"M50.42,16.76L22.34,39.45l-8.1-11.46c-1.12-1.58-3.3-1.96-4.88-0.84c-1.58,1.12-1.95,3.3-0.84,4.88l10.26,14.51  c0.56,0.79,1.42,1.31,2.38,1.45c0.16,0.02,0.32,0.03,0.48,0.03c0.8,0,1.57-0.27,2.2-0.78l30.99-25.03c1.5-1.21,1.74-3.42,0.52-4.92  C54.13,15.78,51.93,15.55,50.42,16.76z"})),to=y("svg",{viewBox:"0 0 100 100",class:"line-icon"},y("path",{d:"M80.2,55.5H21.4c-2.8,0-5.1-2.5-5.1-5.5l0,0c0-3,2.3-5.5,5.1-5.5h58.7c2.8,0,5.1,2.5,5.1,5.5l0,0C85.2,53.1,82.9,55.5,80.2,55.5z"}));const An=Ve("n-checkbox-group"),oo={min:Number,max:Number,size:String,value:Array,defaultValue:{type:Array,default:null},disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:{type:[Function,Array],validator:()=>!0,default:void 0}};var ao=Z({name:"CheckboxGroup",props:oo,setup(e){const{mergedClsPrefixRef:n}=Ae(e),o=Nn(e),{mergedSizeRef:r,mergedDisabledRef:a}=o,l=A(e.defaultValue),d=T(()=>e.value),s=ke(d,l),u=T(()=>{var k;return((k=s.value)===null||k===void 0?void 0:k.length)||0}),f=T(()=>Array.isArray(s.value)?new Set(s.value):new Set);function h(k,b){const{nTriggerFormInput:c,nTriggerFormChange:m}=o,{onChange:x,"onUpdate:value":K,onUpdateValue:w}=e;if(Array.isArray(s.value)){const R=Array.from(s.value),z=R.findIndex(D=>D===b);k?~z||(R.push(b),w&&$(w,R),K&&$(K,R),c(),m(),l.value=R,x&&$(x,R)):~z&&(R.splice(z,1),w&&$(w,R),K&&$(K,R),x&&$(x,R),l.value=R,c(),m())}else k?(w&&$(w,[b]),K&&$(K,[b]),x&&$(x,[b]),l.value=[b],c(),m()):(w&&$(w,[]),K&&$(K,[]),x&&$(x,[]),l.value=[],c(),m())}return on(An,{checkedCountRef:u,maxRef:E(e,"max"),minRef:E(e,"min"),valueSetRef:f,disabledRef:a,mergedSizeRef:r,toggleCheckbox:h}),{mergedClsPrefix:n}},render(){return y("div",{class:`${this.mergedClsPrefix}-checkbox-group`,role:"group"},this.$slots)}}),lo=F([C("checkbox",`
 line-height: var(--n-label-line-height);
 font-size: var(--n-font-size);
 outline: none;
 cursor: pointer;
 display: inline-flex;
 flex-wrap: nowrap;
 align-items: flex-start;
 word-break: break-word;
 --n-merged-color-table: var(--n-color-table);
 `,[F("&:hover",[C("checkbox-box",[W("border",{border:"var(--n-border-checked)"})])]),F("&:focus:not(:active)",[C("checkbox-box",[W("border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),B("inside-table",[C("checkbox-box",`
 background-color: var(--n-merged-color-table);
 `)]),B("checked",[C("checkbox-box",`
 background-color: var(--n-color-checked);
 `,[C("checkbox-icon",[F(".check-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),B("indeterminate",[C("checkbox-box",[C("checkbox-icon",[F(".check-icon",`
 opacity: 0;
 transform: scale(.5);
 `),F(".line-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),B("checked, indeterminate",[F("&:focus:not(:active)",[C("checkbox-box",[W("border",`
 border: var(--n-border-checked);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),C("checkbox-box",`
 background-color: var(--n-color-checked);
 border-left: 0;
 border-top: 0;
 `,[W("border",{border:"var(--n-border-checked)"})])]),B("disabled",{cursor:"not-allowed"},[B("checked",[C("checkbox-box",`
 background-color: var(--n-color-disabled-checked);
 `,[W("border",{border:"var(--n-border-disabled-checked)"}),C("checkbox-icon",[F(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled-checked)"})])])]),C("checkbox-box",`
 background-color: var(--n-color-disabled);
 `,[W("border",{border:"var(--n-border-disabled)"}),C("checkbox-icon",[F(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled)"})])]),W("label",{color:"var(--n-text-color-disabled)"})]),C("checkbox-box-wrapper",`
 position: relative;
 width: var(--n-size);
 flex-shrink: 0;
 flex-grow: 0;
 `),C("checkbox-box",`
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 height: var(--n-size);
 width: var(--n-size);
 display: inline-block;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color 0.3s var(--n-bezier);
 `,[W("border",`
 transition:
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border: var(--n-border);
 `),C("checkbox-icon",`
 display: flex;
 align-items: center;
 justify-content: center;
 position: absolute;
 left: 1px;
 right: 1px;
 top: 1px;
 bottom: 1px;
 `,[F(".check-icon, .line-icon",`
 width: 100%;
 fill: var(--n-check-mark-color);
 opacity: 0;
 transform: scale(0.5);
 transform-origin: center;
 transition:
 fill 0.3s var(--n-bezier),
 transform 0.3s var(--n-bezier),
 opacity 0.3s var(--n-bezier),
 border-color 0.3s var(--n-bezier);
 `),Ue({left:"1px",top:"1px"})])]),W("label",`
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 user-select: none;
 padding: var(--n-label-padding);
 `,[F("&:empty",{display:"none"})])]),ft(C("checkbox",`
 --n-merged-color-table: var(--n-color-table-modal);
 `)),ht(C("checkbox",`
 --n-merged-color-table: var(--n-color-table-popover);
 `))]);const ro=Object.assign(Object.assign({},xe.props),{size:String,checked:{type:[Boolean,String,Number],default:void 0},defaultChecked:{type:[Boolean,String,Number],default:!1},value:[String,Number],disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:String,focusable:{type:Boolean,default:!0},checkedValue:{type:[Boolean,String,Number],default:!0},uncheckedValue:{type:[Boolean,String,Number],default:!1},"onUpdate:checked":[Function,Array],onUpdateChecked:[Function,Array],privateInsideTable:Boolean,onChange:[Function,Array]});var $n=Z({name:"Checkbox",props:ro,setup(e){const n=A(null),{mergedClsPrefixRef:o,inlineThemeDisabled:r,mergedRtlRef:a}=Ae(e),l=Nn(e,{mergedSize(_){const{size:O}=e;if(O!==void 0)return O;if(u){const{value:M}=u.mergedSizeRef;if(M!==void 0)return M}if(_){const{mergedSize:M}=_;if(M!==void 0)return M.value}return"medium"},mergedDisabled(_){const{disabled:O}=e;if(O!==void 0)return O;if(u){if(u.disabledRef.value)return!0;const{maxRef:{value:M},checkedCountRef:X}=u;if(M!==void 0&&X.value>=M&&!b.value)return!0;const{minRef:{value:p}}=u;if(p!==void 0&&X.value<=p&&b.value)return!0}return _?_.disabled.value:!1}}),{mergedDisabledRef:d,mergedSizeRef:s}=l,u=ie(An,null),f=A(e.defaultChecked),h=E(e,"checked"),k=ke(h,f),b=q(()=>{if(u){const _=u.valueSetRef.value;return _&&e.value!==void 0?_.has(e.value):!1}else return k.value===e.checkedValue}),c=xe("Checkbox","-checkbox",lo,zn,e,o);function m(_){if(u&&e.value!==void 0)u.toggleCheckbox(!b.value,e.value);else{const{onChange:O,"onUpdate:checked":M,onUpdateChecked:X}=e,{nTriggerFormInput:p,nTriggerFormChange:L}=l,P=b.value?e.uncheckedValue:e.checkedValue;M&&$(M,P,_),X&&$(X,P,_),O&&$(O,P,_),p(),L(),f.value=P}}function x(_){d.value||m(_)}function K(_){if(!d.value)switch(_.code){case"Space":case"Enter":case"NumpadEnter":m(_)}}function w(_){switch(_.code){case"Space":_.preventDefault()}}const R={focus:()=>{var _;(_=n.value)===null||_===void 0||_.focus()},blur:()=>{var _;(_=n.value)===null||_===void 0||_.blur()}},z=vt("Checkbox",a,o),D=T(()=>{const{value:_}=s,{common:{cubicBezierEaseInOut:O},self:{borderRadius:M,color:X,colorChecked:p,colorDisabled:L,colorTableHeader:P,colorTableHeaderModal:oe,colorTableHeaderPopover:je,checkMarkColor:He,checkMarkColorDisabled:J,border:le,borderFocus:we,borderDisabled:Ge,borderChecked:qe,boxShadowFocus:fe,textColor:We,textColorDisabled:Ee,checkMarkColorDisabledChecked:de,colorDisabledChecked:he,borderDisabledChecked:ve,labelPadding:be,labelLineHeight:ge,[nn("fontSize",_)]:Ye,[nn("size",_)]:Ce}}=c.value;return{"--n-label-line-height":ge,"--n-size":Ce,"--n-bezier":O,"--n-border-radius":M,"--n-border":le,"--n-border-checked":qe,"--n-border-focus":we,"--n-border-disabled":Ge,"--n-border-disabled-checked":ve,"--n-box-shadow-focus":fe,"--n-color":X,"--n-color-checked":p,"--n-color-table":P,"--n-color-table-modal":oe,"--n-color-table-popover":je,"--n-color-disabled":L,"--n-color-disabled-checked":he,"--n-text-color":We,"--n-text-color-disabled":Ee,"--n-check-mark-color":He,"--n-check-mark-color-disabled":J,"--n-check-mark-color-disabled-checked":de,"--n-font-size":Ye,"--n-label-padding":be}}),S=r?an("checkbox",T(()=>s.value[0]),D,e):void 0;return Object.assign(l,R,{rtlEnabled:z,selfRef:n,mergedClsPrefix:o,mergedDisabled:d,renderedChecked:b,mergedTheme:c,labelId:bt(),handleClick:x,handleKeyUp:K,handleKeyDown:w,cssVars:r?void 0:D,themeClass:S==null?void 0:S.themeClass,onRender:S==null?void 0:S.onRender})},render(){var e;const{$slots:n,renderedChecked:o,mergedDisabled:r,indeterminate:a,privateInsideTable:l,cssVars:d,labelId:s,label:u,mergedClsPrefix:f,focusable:h,handleKeyUp:k,handleKeyDown:b,handleClick:c}=this;return(e=this.onRender)===null||e===void 0||e.call(this),y("div",{ref:"selfRef",class:[`${f}-checkbox`,this.themeClass,this.rtlEnabled&&`${f}-checkbox--rtl`,o&&`${f}-checkbox--checked`,r&&`${f}-checkbox--disabled`,a&&`${f}-checkbox--indeterminate`,l&&`${f}-checkbox--inside-table`],tabindex:r||!h?void 0:0,role:"checkbox","aria-checked":a?"mixed":o,"aria-labelledby":s,style:d,onKeyup:k,onKeydown:b,onClick:c,onMousedown:()=>{gt("selectstart",window,m=>{m.preventDefault()},{once:!0})}},y("div",{class:`${f}-checkbox-box-wrapper`},"\xA0",y("div",{class:`${f}-checkbox-box`},y(Kn,null,{default:()=>this.indeterminate?y("div",{key:"indeterminate",class:`${f}-checkbox-icon`},to):y("div",{key:"check",class:`${f}-checkbox-icon`},no)}),y("div",{class:`${f}-checkbox-box__border`}))),u!==null||n.default?y("span",{class:`${f}-checkbox__label`,id:s},n.default?n.default():u):null)}});const Sn=1,En=Ve("n-grid"),Pn=1,io={span:{type:[Number,String],default:Pn},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}};var so=Z({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:io,setup(){const{xGapRef:e,itemStyleRef:n,overflowRef:o}=ie(En),r=pt();return{overflow:o,itemStyle:n,deriveStyle:()=>{const{privateSpan:a=Pn,privateShow:l=!0,privateColStart:d=void 0,privateOffset:s=0}=r.vnode.props,{value:u}=e,f=ze(u||0);return{display:l?"":"none",gridColumn:`${d!=null?d:`span ${a}`} / span ${a}`,marginLeft:s?`calc((100% - (${a} - 1) * ${f}) / ${a} * ${s} + ${f} * ${s})`:""}}}},render(){var e,n;return y("div",{style:[this.itemStyle,this.deriveStyle()]},(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e,{overflow:this.overflow}))}});const co={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},In=24,uo={responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:In},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}};var fo=Z({name:"Grid",inheritAttrs:!1,props:uo,setup(e){const{mergedClsPrefixRef:n,mergedBreakpointsRef:o}=Ae(e),r=/^\d+$/,a=A(void 0),l=Xt((o==null?void 0:o.value)||co),d=q(()=>!!(e.itemResponsive||!r.test(e.cols.toString())||!r.test(e.xGap.toString())||!r.test(e.yGap.toString()))),s=T(()=>{if(!!d.value)return e.responsive==="self"?a.value:l.value}),u=q(()=>{var x;return(x=Number(Te(e.cols.toString(),s.value)))!==null&&x!==void 0?x:In}),f=q(()=>Te(e.xGap.toString(),s.value)),h=q(()=>Te(e.yGap.toString(),s.value)),k=x=>{a.value=x.contentRect.width},b=x=>{yt(k,x)},c=A(!1),m=T(()=>{if(e.responsive==="self")return b});return on(En,{itemStyleRef:E(e,"itemStyle"),xGapRef:f,overflowRef:c}),{mergedClsPrefix:n,style:T(()=>({width:"100%",display:"grid",gridTemplateColumns:`repeat(${u.value}, minmax(0, 1fr))`,columnGap:ze(f.value),rowGap:ze(h.value)})),isResponsive:d,responsiveQuery:s,responsiveCols:u,handleResize:m,overflow:c}},render(){const e=()=>{var n,o,r,a,l,d;this.overflow=!1;const s=kt(xt(this)),u=[],{collapsed:f,collapsedRows:h,responsiveCols:k,responsiveQuery:b}=this;s.forEach(w=>{var R,z,D;if(((R=w==null?void 0:w.type)===null||R===void 0?void 0:R.__GRID_ITEM__)!==!0)return;const S=wt(w),_=Number((D=Te((z=S.props)===null||z===void 0?void 0:z.span,b))!==null&&D!==void 0?D:Sn);_!==0&&u.push({child:S,rawChildSpan:_})});let c=0;const m=(n=u[u.length-1])===null||n===void 0?void 0:n.child;if(m!=null&&m.props){const w=(o=m.props)===null||o===void 0?void 0:o.suffix;w!==void 0&&w!==!1&&(c=(a=(r=m.props)===null||r===void 0?void 0:r.span)!==null&&a!==void 0?a:Sn,m.props.privateSpan=c,m.props.privateColStart=k+1-c,m.props.privateShow=!0)}let x=0,K=!1;for(const{child:w,rawChildSpan:R}of u){if(K&&(this.overflow=!0),!K){const z=Number((d=Te((l=w.props)===null||l===void 0?void 0:l.offset,b))!==null&&d!==void 0?d:0),D=Math.min(R+z,k)||1;if(w.props?(w.props.privateSpan=D,w.props.privateOffset=z):w.props={privateSpan:D,privateOffset:z},f){const S=x%k;D+S>k&&(x+=k-S),D+x+c>h*k?K=!0:x+=D}}K&&(w.props?w.props.privateShow!==!0&&(w.props.privateShow=!1):w.props={privateShow:!1})}return y("div",Ct({class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),u.map(({child:w})=>w))};return this.isResponsive&&this.responsive==="self"?y(mt,{onResize:this.handleResize},{default:e}):e()}});const ho=e=>{const{opacityDisabled:n,heightTiny:o,heightSmall:r,heightMedium:a,heightLarge:l,heightHuge:d,primaryColor:s,fontSize:u}=e;return{fontSize:u,textColor:s,sizeTiny:o,sizeSmall:r,sizeMedium:a,sizeLarge:l,sizeHuge:d,color:s,opacitySpinning:n}},vo={name:"Spin",common:tn,self:ho};var bo=vo;const go=e=>{const{borderRadiusSmall:n,hoverColor:o,pressedColor:r,primaryColor:a,textColor3:l,textColor2:d,textColorDisabled:s,fontSize:u}=e;return{fontSize:u,nodeBorderRadius:n,nodeColorHover:o,nodeColorPressed:r,nodeColorActive:_n(a,{alpha:.1}),arrowColor:l,nodeTextColor:d,nodeTextColorDisabled:s,loadingColor:a,dropMarkColor:a}},po=St({name:"Tree",common:tn,peers:{Checkbox:zn,Scrollbar:Rt,Empty:jt},self:go});var mo=po,yo=F([F("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),C("spin-container",{position:"relative"},[C("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[_t()])]),C("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),C("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[B("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),C("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),C("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[B("spinning",`
 user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]);const ko={small:20,medium:18,large:16},xo=Object.assign(Object.assign({},xe.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}});var wo=Z({name:"Spin",props:xo,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:o}=Ae(e),r=xe("Spin","-spin",yo,bo,e,n),a=T(()=>{const{size:d}=e,{common:{cubicBezierEaseInOut:s},self:u}=r.value,{opacitySpinning:f,color:h,textColor:k}=u,b=typeof d=="number"?ze(d):u[nn("size",d)];return{"--n-bezier":s,"--n-opacity-spinning":f,"--n-size":b,"--n-color":h,"--n-text-color":k}}),l=o?an("spin",T(()=>{const{size:d}=e;return typeof d=="number"?String(d):d[0]}),a,e):void 0;return{mergedClsPrefix:n,compitableShow:Nt(e,["spinning","show"]),mergedStrokeWidth:T(()=>{const{strokeWidth:d}=e;if(d!==void 0)return d;const{size:s}=e;return ko[typeof s=="number"?"medium":s]}),cssVars:o?void 0:a,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){var e,n;const{$slots:o,mergedClsPrefix:r,description:a}=this,l=o.icon&&this.rotate,d=(a||o.description)&&y("div",{class:`${r}-spin-description`},a||((e=o.description)===null||e===void 0?void 0:e.call(o))),s=o.icon?y("div",{class:[`${r}-spin-body`,this.themeClass]},y("div",{class:[`${r}-spin`,l&&`${r}-spin--rotate`],style:o.default?"":this.cssVars},o.icon()),d):y("div",{class:[`${r}-spin-body`,this.themeClass]},y(Dn,{clsPrefix:r,style:o.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${r}-spin`}),d);return(n=this.onRender)===null||n===void 0||n.call(this),o.default?y("div",{class:[`${r}-spin-container`,this.themeClass],style:this.cssVars},y("div",{class:[`${r}-spin-content`,this.compitableShow&&`${r}-spin-content--spinning`]},o),y(Kt,{name:"fade-in-transition"},{default:()=>this.compitableShow?s:null})):s}});const Bn=Ve("n-tree-select"),$e=Ve("n-tree");var Co=Z({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(e){const{renderSwitcherIconRef:n}=ie($e,null);return()=>{const{clsPrefix:o}=e;return y("span",{"data-switcher":!0,class:[`${o}-tree-node-switcher`,{[`${o}-tree-node-switcher--expanded`]:e.expanded,[`${o}-tree-node-switcher--hide`]:e.hide}],onClick:e.onClick},y("div",{class:`${o}-tree-node-switcher__icon`},y(Kn,null,{default:()=>{if(e.loading)return y(Dn,{clsPrefix:o,key:"loading",radius:85,strokeWidth:20});const{value:r}=n;return r?r():y(Dt,{clsPrefix:o,key:"switcher"},{default:()=>y(Qt,null)})}})))}}}),So=Z({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const n=ie($e);function o(a){const{onCheck:l}=e;if(l)return l(a)}function r(a){e.indeterminate?o(!1):o(a)}return{handleUpdateValue:r,mergedTheme:n.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:n,checked:o,indeterminate:r,disabled:a,focusable:l,handleUpdateValue:d}=this;return y("span",{class:`${e}-tree-node-checkbox`,"data-checkbox":!0},y($n,{focusable:l,disabled:a,theme:n.peers.Checkbox,themeOverrides:n.peerOverrides.Checkbox,checked:o,indeterminate:r,onUpdateChecked:d}))}}),Ro=Z({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:n,renderPrefixRef:o,renderSuffixRef:r,labelFieldRef:a}=ie($e),l=A(null);function d(u){const{onClick:f}=e;f&&f(u)}function s(u){d(u)}return{selfRef:l,renderLabel:n,renderPrefix:o,renderSuffix:r,labelField:a,handleClick:s}},render(){const{clsPrefix:e,labelField:n,nodeProps:o,checked:r=!1,selected:a=!1,renderLabel:l,renderPrefix:d,renderSuffix:s,handleClick:u,onDragstart:f,tmNode:{rawNode:h,rawNode:{prefix:k,suffix:b,[n]:c}}}=this;return y("span",Object.assign({},o,{ref:"selfRef",class:[`${e}-tree-node-content`,o==null?void 0:o.class],onClick:u,draggable:f===void 0?void 0:!0,onDragstart:f}),d||k?y("div",{class:`${e}-tree-node-content__prefix`},d?d({option:h,selected:a,checked:r}):en(k)):null,y("div",{class:`${e}-tree-node-content__text`},l?l({option:h,selected:a,checked:r}):en(c)),s||b?y("div",{class:`${e}-tree-node-content__suffix`},s?s({option:h,selected:a,checked:r}):en(b)):null)}});function Rn({position:e,offsetLevel:n,indent:o,el:r}){const a={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")a.left=0,a.top=0,a.bottom=0,a.borderRadius="inherit",a.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const l=e==="before"?"top":"bottom";a[l]=0,a.left=`${r.offsetLeft+6-n*o}px`,a.height="2px",a.backgroundColor="var(--n-drop-mark-color)",a.transformOrigin=l,a.borderRadius="1px",a.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return y("div",{style:a})}function _o({dropPosition:e,node:n}){return n.isLeaf===!1||n.children?!0:e!=="inside"}const No=Z({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const n=ie($e),{droppingNodeParentRef:o,droppingMouseNodeRef:r,draggingNodeRef:a,droppingPositionRef:l,droppingOffsetLevelRef:d,nodePropsRef:s,indentRef:u,blockLineRef:f}=n,h=T(()=>n.disabledRef.value||e.tmNode.disabled),k=T(()=>{const{value:p}=s;if(!!p)return p({option:e.tmNode.rawNode})}),b=A(null),c={value:null};Tn(()=>{c.value=b.value.$el});function m(){const{tmNode:p}=e;if(!p.isLeaf&&!p.shallowLoaded){n.loadingKeysRef.value.has(p.key)||n.loadingKeysRef.value.add(p.key);const{onLoadRef:{value:L}}=n;L&&L(p.rawNode).then(()=>{n.handleSwitcherClick(p)}).finally(()=>{n.loadingKeysRef.value.delete(p.key)})}else n.handleSwitcherClick(p)}const x=q(()=>!e.tmNode.disabled&&n.selectableRef.value&&(n.internalTreeSelect?n.mergedCheckStrategyRef.value!=="child"||n.multipleRef.value&&n.cascadeRef.value||e.tmNode.isLeaf:!0));function K(p){!x.value||gn(p,"checkbox")||gn(p,"switcher")||n.handleSelect(e.tmNode)}function w(p){var L,P;f.value||(h.value||K(p),(P=(L=k.value)===null||L===void 0?void 0:L.onClick)===null||P===void 0||P.call(L,p))}function R(p){var L,P;!f.value||(h.value||K(p),(P=(L=k.value)===null||L===void 0?void 0:L.onClick)===null||P===void 0||P.call(L,p))}function z(p){n.handleCheck(e.tmNode,p)}function D(p){n.handleDragStart({event:p,node:e.tmNode})}function S(p){p.currentTarget===p.target&&n.handleDragEnter({event:p,node:e.tmNode})}function _(p){p.preventDefault(),n.handleDragOver({event:p,node:e.tmNode})}function O(p){n.handleDragEnd({event:p,node:e.tmNode})}function M(p){p.currentTarget===p.target&&n.handleDragLeave({event:p,node:e.tmNode})}function X(p){p.preventDefault(),l.value!==null&&n.handleDrop({event:p,node:e.tmNode,dropPosition:l.value})}return{showDropMark:q(()=>{const{value:p}=a;if(!p)return;const{value:L}=l;if(!L)return;const{value:P}=r;if(!P)return;const{tmNode:oe}=e;return oe.key===P.key}),showDropMarkAsParent:q(()=>{const{value:p}=o;if(!p)return!1;const{tmNode:L}=e,{value:P}=l;return P==="before"||P==="after"?p.key===L.key:!1}),pending:q(()=>n.pendingNodeKeyRef.value===e.tmNode.key),loading:q(()=>n.loadingKeysRef.value.has(e.tmNode.key)),highlight:q(()=>{var p;return(p=n.highlightKeySetRef.value)===null||p===void 0?void 0:p.has(e.tmNode.key)}),checked:q(()=>n.displayedCheckedKeysRef.value.includes(e.tmNode.key)),indeterminate:q(()=>n.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:q(()=>n.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:q(()=>n.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:h,checkable:T(()=>n.checkableRef.value&&(n.cascadeRef.value||n.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),checkboxDisabled:T(()=>!!e.tmNode.rawNode.checkboxDisabled),selectable:x,internalScrollable:n.internalScrollableRef,draggable:n.draggableRef,blockLine:f,nodeProps:k,checkboxFocusable:n.internalCheckboxFocusableRef,droppingPosition:l,droppingOffsetLevel:d,indent:u,contentInstRef:b,contentElRef:c,handleCheck:z,handleDrop:X,handleDragStart:D,handleDragEnter:S,handleDragOver:_,handleDragEnd:O,handleDragLeave:M,handleLineClick:R,handleContentClick:w,handleSwitcherClick:m}},render(){const{tmNode:e,clsPrefix:n,checkable:o,selectable:r,selected:a,checked:l,highlight:d,draggable:s,blockLine:u,indent:f,disabled:h,pending:k,internalScrollable:b,nodeProps:c}=this,m=s&&!h?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,x=b?Ln(e.key):void 0;return y("div",Object.assign({class:`${n}-tree-node-wrapper`},m),y("div",Object.assign({},u?c:void 0,{class:[`${n}-tree-node`,{[`${n}-tree-node--selected`]:a,[`${n}-tree-node--checkable`]:o,[`${n}-tree-node--highlight`]:d,[`${n}-tree-node--pending`]:k,[`${n}-tree-node--disabled`]:h,[`${n}-tree-node--selectable`]:r},c==null?void 0:c.class],"data-key":x,draggable:s&&u,onClick:this.handleLineClick,onDragstart:s&&u&&!h?this.handleDragStart:void 0}),Tt(e.level,y("div",{class:`${n}-tree-node-indent`,style:{flex:`0 0 ${f}px`}})),y(Co,{clsPrefix:n,expanded:this.expanded,loading:this.loading,hide:e.isLeaf,onClick:this.handleSwitcherClick}),o?y(So,{focusable:this.checkboxFocusable,disabled:h||this.checkboxDisabled,clsPrefix:n,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null,y(Ro,{ref:"contentInstRef",clsPrefix:n,checked:l,selected:a,onClick:this.handleContentClick,nodeProps:u?void 0:c,onDragstart:s&&!u&&!h?this.handleDragStart:void 0,tmNode:e}),s?this.showDropMark?Rn({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:f}):this.showDropMarkAsParent?Rn({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:f}):null:null))}});var Fn=No;function Mn(e,n,o,r){e==null||e.forEach(a=>{o(a),Mn(a[n],n,o,r),r(a)})}function Ko(e,n,o,r,a){const l=new Set,d=new Set,s=[];return Mn(e,r,u=>{if(s.push(u),a(n,u)){d.add(u[o]);for(let f=s.length-2;f>=0;--f)if(!l.has(s[f][o]))l.add(s[f][o]);else return}},()=>{s.pop()}),{expandedKeys:Array.from(l),highlightKeySet:d}}if(typeof window!="undefined"&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function Do(e,n,o,r,a){const l=new Set,d=new Set,s=new Set,u=[],f=[],h=[];function k(c){c.forEach(m=>{if(h.push(m),n(o,m)){l.add(m[r]),s.add(m[r]);for(let K=h.length-2;K>=0;--K){const w=h[K][r];if(!d.has(w))d.add(w),l.has(w)&&l.delete(w);else break}}const x=m[a];x&&k(x),h.pop()})}k(e);function b(c,m){c.forEach(x=>{const K=x[r],w=l.has(K),R=d.has(K);if(!w&&!R)return;const z=x[a];if(z)if(w)m.push(x);else{u.push(K);const D=Object.assign(Object.assign({},x),{[a]:[]});m.push(D),b(z,D[a])}else m.push(x)})}return b(e,f),{filteredTree:f,highlightKeySet:s,expandedKeys:u}}function To({fNodesRef:e,mergedExpandedKeysRef:n,mergedSelectedKeysRef:o,handleSelect:r,handleSwitcherClick:a}){const{value:l}=o,d=ie(Bn,null),s=d?d.pendingNodeKeyRef:A(l.length?l[l.length-1]:null);function u(h){const{value:k}=s;if(k===null){if(["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(h.code)&&k===null){const{value:b}=e;let c=0;for(;c<b.length;){if(!b[c].disabled){s.value=b[c].key;break}c+=1}}}else{const{value:b}=e;let c=b.findIndex(m=>m.key===k);if(!~c)return;if(h.code==="Enter"||h.code==="NumpadEnter")r(b[c]);else if(h.code==="ArrowDown")for(c+=1;c<b.length;){if(!b[c].disabled){s.value=b[c].key;break}c+=1}else if(h.code==="ArrowUp")for(c-=1;c>=0;){if(!b[c].disabled){s.value=b[c].key;break}c-=1}else if(h.code==="ArrowLeft"){const m=b[c];if(m.isLeaf||!n.value.includes(k)){const x=m.getParent();x&&(s.value=x.key)}else a(m)}else if(h.code==="ArrowRight"){const m=b[c];if(m.isLeaf)return;if(!n.value.includes(k))a(m);else for(c+=1;c<b.length;){if(!b[c].disabled){s.value=b[c].key;break}c+=1}}}}function f(h){switch(h.code){case"ArrowUp":case"ArrowDown":h.preventDefault()}}return{pendingNodeKeyRef:s,handleKeyup:u,handleKeydown:f}}var Lo=Z({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return y(Lt,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>y("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:ze(this.height)}},this.nodes.map(n=>y(Fn,{clsPrefix:e,tmNode:n})))})}}),zo=C("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[F("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),F(">",[C("tree-node",[F("&:first-child",{marginTop:0})])]),C("tree-node-indent",`
 height: 0;
 `),C("tree-motion-wrapper",[B("expand",[pn({duration:"0.2s"})]),B("collapse",[pn({duration:"0.2s",reverse:!0})])]),C("tree-node-wrapper",`
 box-sizing: border-box;
 padding: 3px 0;
 `),C("tree-node",`
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[B("highlight",[C("tree-node-content",[W("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),B("disabled",[C("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),Ie("disabled",[B("selectable",[C("tree-node-content",`
 cursor: pointer;
 `)])])]),B("block-node",[C("tree-node-content",`
 width: 100%;
 `)]),Ie("block-line",[C("tree-node",[Ie("disabled",[C("tree-node-content",[F("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),B("selectable",[C("tree-node-content",[F("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),B("pending",[C("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),B("selected",[C("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),B("block-line",[C("tree-node",[Ie("disabled",[F("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),B("selectable",[F("&:active",{backgroundColor:"var(--n-node-color-pressed)"})]),B("pending",`
 background-color: var(--n-node-color-hover);
 `),B("selected",{backgroundColor:"var(--n-node-color-active)"})]),B("disabled",`
 cursor: not-allowed;
 `)])]),C("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[W("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[C("icon",[Ue()]),C("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[Ue()]),C("base-icon",[Ue()])]),B("hide",{visibility:"hidden"}),B("expanded",{transform:"rotate(90deg)"})]),C("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `),B("checkable",[C("tree-node-content",`
 padding: 0 6px;
 `)]),C("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[F("&:last-child",{marginBottom:0}),W("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),W("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow:1;
 `),W("suffix",`
 display: inline-flex;
 `)]),W("empty","margin: auto;")]),Ao=globalThis&&globalThis.__awaiter||function(e,n,o,r){function a(l){return l instanceof o?l:new o(function(d){d(l)})}return new(o||(o=Promise))(function(l,d){function s(h){try{f(r.next(h))}catch(k){d(k)}}function u(h){try{f(r.throw(h))}catch(k){d(k)}}function f(h){h.done?l(h.value):a(h.value).then(s,u)}f((r=r.apply(e,n||[])).next())})};const Oe=30;function $o(e,n){return{getKey(o){return o[e]},getChildren(o){return o[n]},getDisabled(o){return!!(o.disabled||o.checkboxDisabled)}}}const Eo={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},Po=Object.assign(Object.assign(Object.assign(Object.assign({},xe.props),{showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:_o},animated:{type:Boolean,default:!0},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,renderSwitcherIcon:Function,nodeProps:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),Eo),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean});var Io=Z({name:"Tree",props:Po,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:o}=Ae(e),r=xe("Tree","-tree",zo,mo,e,n),a=A(null),l=A(null),d=A(null);function s(){var t;return(t=d.value)===null||t===void 0?void 0:t.listElRef}function u(){var t;return(t=d.value)===null||t===void 0?void 0:t.itemsElRef}const f=T(()=>{const{pattern:t}=e;return t?!t.length||!Ce.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:Do(e.data,Ce.value,t,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),h=T(()=>zt(e.showIrrelevantNodes?e.data:f.value.filteredTree,$o(e.keyField,e.childrenField))),k=ie(Bn,null),b=e.internalTreeSelect?k.dataTreeMate:h,{watchProps:c}=e,m=A([]);c!=null&&c.includes("defaultCheckedKeys")?Ke(()=>{m.value=e.defaultCheckedKeys}):m.value=e.defaultCheckedKeys;const x=E(e,"checkedKeys"),K=ke(x,m),w=T(()=>b.value.getCheckedKeys(K.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),R=T(()=>e.leafOnly?"child":e.checkStrategy),z=T(()=>w.value.checkedKeys),D=T(()=>{const{indeterminateKeys:t}=e;return t!==void 0?t:w.value.indeterminateKeys}),S=A([]);c!=null&&c.includes("defaultSelectedKeys")?Ke(()=>{S.value=e.defaultSelectedKeys}):S.value=e.defaultSelectedKeys;const _=E(e,"selectedKeys"),O=ke(_,S),M=A([]),X=t=>{M.value=e.defaultExpandAll?b.value.getNonLeafKeys():t===void 0?e.defaultExpandedKeys:t};c!=null&&c.includes("defaultExpandedKeys")?Ke(()=>X(void 0)):Ke(()=>X(e.defaultExpandedKeys));const p=E(e,"expandedKeys"),L=ke(p,M),P=T(()=>h.value.getFlattenedNodes(L.value)),{pendingNodeKeyRef:oe,handleKeyup:je,handleKeydown:He}=To({mergedSelectedKeysRef:O,fNodesRef:P,mergedExpandedKeysRef:L,handleSelect:Qe,handleSwitcherClick:sn});let J=null,le=null;const we=A(new Set),Ge=T(()=>e.internalHighlightKeySet||f.value.highlightKeySet),qe=ke(Ge,we),fe=A(new Set),We=T(()=>L.value.filter(t=>!fe.value.has(t)));let Ee=0;const de=A(null),he=A(null),ve=A(null),be=A(null),ge=A(0),Ye=T(()=>{const{value:t}=he;return t?t.parent:null}),Ce=T(()=>{const{filter:t}=e;if(t)return t;const{labelField:i}=e;return(v,g)=>v.length?g[i].toLowerCase().includes(v.toLowerCase()):!0});Be(E(e,"data"),()=>{fe.value.clear(),oe.value=null,Re()},{deep:!1});let Se;Be(E(e,"pattern"),(t,i)=>{if(e.showIrrelevantNodes)if(Se=void 0,t){const{expandedKeys:v,highlightKeySet:g}=Ko(e.data,e.pattern,e.keyField,e.childrenField,Ce.value);we.value=g,me(v,ee(v))}else we.value=new Set;else if(!t.length)Se!==void 0&&me(Se,ee(Se));else{i.length||(Se=L.value);const{expandedKeys:v}=f.value;v!==void 0&&me(v,ee(v))}});function ln(t){return Ao(this,void 0,void 0,function*(){const{onLoad:i}=e;if(!i)return yield Promise.resolve();const{value:v}=fe;return yield new Promise(g=>{v.has(t.key)||(v.add(t.key),i(t.rawNode).then(()=>{v.delete(t.key),g()}).catch(N=>{console.error(N),_e()}))})})}Ke(()=>{var t;const{value:i}=h;if(!i)return;const{getNode:v}=i;(t=L.value)===null||t===void 0||t.forEach(g=>{const N=v(g);N&&!N.shallowLoaded&&ln(N)})});const pe=A(!1),ae=A([]);Be(We,(t,i)=>{if(!e.animated){mn(Pe);return}const v=new Set(i);let g=null,N=null;for(const U of t)if(!v.has(U)){if(g!==null)return;g=U}const ne=new Set(t);for(const U of i)if(!ne.has(U)){if(N!==null)return;N=U}if(g!==null&&N!==null||g===null&&N===null)return;const{virtualScroll:V}=e,Ne=(V?d.value.listElRef:a.value).offsetHeight,ce=Math.ceil(Ne/Oe)+1;if(g!==null){pe.value=!0,ae.value=h.value.getFlattenedNodes(i);const U=ae.value.findIndex(j=>j.key===g);if(~U){const j=yn(ae.value[U].children,t);ae.value.splice(U+1,0,{__motion:!0,mode:"expand",height:V?j.length*Oe:void 0,nodes:V?j.slice(0,ce):j})}}if(N!==null){ae.value=h.value.getFlattenedNodes(t);const U=ae.value.findIndex(j=>j.key===N);if(~U){const j=ae.value[U].children;if(!j)return;pe.value=!0;const te=yn(j,t);ae.value.splice(U+1,0,{__motion:!0,mode:"collapse",height:V?te.length*Oe:void 0,nodes:V?te.slice(0,ce):te})}}});const On=T(()=>At(P.value)),Un=T(()=>pe.value?ae.value:P.value);function Pe(){const{value:t}=l;t&&t.sync()}function Vn(){pe.value=!1,e.virtualScroll&&mn(Pe)}function ee(t){const{getNode:i}=b.value;return t.map(v=>{var g;return((g=i(v))===null||g===void 0?void 0:g.rawNode)||null})}function me(t,i){const{"onUpdate:expandedKeys":v,onUpdateExpandedKeys:g}=e;M.value=t,v&&$(v,t,i),g&&$(g,t,i)}function rn(t,i){const{"onUpdate:checkedKeys":v,onUpdateCheckedKeys:g}=e;m.value=t,g&&$(g,t,i),v&&$(v,t,i)}function jn(t,i){const{"onUpdate:indeterminateKeys":v,onUpdateIndeterminateKeys:g}=e;v&&$(v,t,i),g&&$(g,t,i)}function Xe(t,i){const{"onUpdate:selectedKeys":v,onUpdateSelectedKeys:g}=e;S.value=t,g&&$(g,t,i),v&&$(v,t,i)}function Hn(t){const{onDragenter:i}=e;i&&$(i,t)}function Gn(t){const{onDragleave:i}=e;i&&$(i,t)}function qn(t){const{onDragend:i}=e;i&&$(i,t)}function Wn(t){const{onDragstart:i}=e;i&&$(i,t)}function Yn(t){const{onDragover:i}=e;i&&$(i,t)}function Xn(t){const{onDrop:i}=e;i&&$(i,t)}function Re(){Qn(),se()}function Qn(){de.value=null}function se(){ge.value=0,he.value=null,ve.value=null,be.value=null,_e()}function _e(){J&&(window.clearTimeout(J),J=null),le=null}function dn(t,i){if(e.disabled||t.disabled)return;if(e.internalUnifySelectCheck&&!e.multiple){Qe(t);return}const{checkedKeys:v,indeterminateKeys:g}=b.value[i?"check":"uncheck"](t.key,z.value,{cascade:e.cascade,checkStrategy:R.value,allowNotLoaded:e.allowCheckingNotLoaded});rn(v,ee(v)),jn(g,ee(g))}function Zn(t){if(e.disabled)return;const{value:i}=L,v=i.findIndex(g=>g===t);if(~v){const g=Array.from(i);g.splice(v,1),me(g,ee(g))}else{const g=h.value.getNode(t);if(!g||g.isLeaf)return;const N=i.concat(t);me(N,ee(N))}}function sn(t){e.disabled||pe.value||Zn(t.key)}function Qe(t){if(!(e.disabled||!e.selectable)){if(oe.value=t.key,e.internalUnifySelectCheck){const{value:{checkedKeys:i,indeterminateKeys:v}}=w;e.multiple?dn(t,!(i.includes(t.key)||v.includes(t.key))):rn([t.key],ee([t.key]))}if(e.multiple){const i=Array.from(O.value),v=i.findIndex(g=>g===t.key);~v?e.cancelable&&i.splice(v,1):~v||i.push(t.key),Xe(i,ee(i))}else O.value.includes(t.key)?e.cancelable&&Xe([],[]):Xe([t.key],ee([t.key]))}}function Jn(t){if(J&&(window.clearTimeout(J),J=null),t.isLeaf)return;le=t.key;const i=()=>{if(le!==t.key)return;const{value:v}=ve;if(v&&v.key===t.key&&!L.value.includes(t.key)){const g=L.value.concat(t.key);me(g,ee(g))}J=null,le=null};t.shallowLoaded?J=window.setTimeout(()=>{i()},1e3):J=window.setTimeout(()=>{ln(t).then(()=>{i()})},1e3)}function et({event:t,node:i}){!e.draggable||e.disabled||i.disabled||(cn({event:t,node:i},!1),Hn({event:t,node:i.rawNode}))}function nt({event:t,node:i}){!e.draggable||e.disabled||i.disabled||Gn({event:t,node:i.rawNode})}function tt(t){t.target===t.currentTarget&&se()}function ot({event:t,node:i}){Re(),!(!e.draggable||e.disabled||i.disabled)&&qn({event:t,node:i.rawNode})}function at({event:t,node:i}){!e.draggable||e.disabled||i.disabled||(Ee=t.clientX,de.value=i,Wn({event:t,node:i.rawNode}))}function cn({event:t,node:i},v=!0){var g;if(!e.draggable||e.disabled||i.disabled)return;const{value:N}=de;if(!N)return;const{allowDrop:ne,indent:V}=e;v&&Yn({event:t,node:i.rawNode});const Ne=t.currentTarget,{height:ce,top:U}=Ne.getBoundingClientRect(),j=t.clientY-U;let te;ne({node:i.rawNode,dropPosition:"inside",phase:"drag"})?j<=8?te="before":j>=ce-8?te="after":te="inside":j<=ce/2?te="before":te="after";const{value:st}=On;let I,Y;const Ze=st(i.key);if(Ze===null){se();return}let hn=!1;te==="inside"?(I=i,Y="inside"):te==="before"?i.isFirstChild?(I=i,Y="before"):(I=P.value[Ze-1],Y="after"):(I=i,Y="after"),!I.isLeaf&&L.value.includes(I.key)&&(hn=!0,Y==="after"&&(I=P.value[Ze+1],I?Y="before":(I=i,Y="inside")));const vn=I;if(ve.value=vn,!hn&&N.isLastChild&&N.key===I.key&&(Y="after"),Y==="after"){let bn=Ee-t.clientX,Je=0;for(;bn>=V/2&&I.parent!==null&&I.isLastChild&&Je<1;)bn-=V,Je+=1,I=I.parent;ge.value=Je}else ge.value=0;if((N.contains(I)||Y==="inside"&&((g=N.parent)===null||g===void 0?void 0:g.key)===I.key)&&!(N.key===vn.key&&N.key===I.key)){se();return}if(!ne({node:I.rawNode,dropPosition:Y,phase:"drag"})){se();return}if(N.key===I.key)_e();else if(le!==I.key)if(Y==="inside"){if(e.expandOnDragenter){if(Jn(I),!I.shallowLoaded&&le!==I.key){Re();return}}else if(!I.shallowLoaded){Re();return}}else _e();else Y!=="inside"&&_e();be.value=Y,he.value=I}function lt({event:t,node:i,dropPosition:v}){if(!e.draggable||e.disabled||i.disabled)return;const{value:g}=de,{value:N}=he,{value:ne}=be;if(!(!g||!N||!ne)&&!!e.allowDrop({node:N.rawNode,dropPosition:ne,phase:"drag"})&&g.key!==N.key){if(ne==="before"){const V=g.getNext({includeDisabled:!0});if(V&&V.key===N.key){se();return}}if(ne==="after"){const V=g.getPrev({includeDisabled:!0});if(V&&V.key===N.key){se();return}}Xn({event:t,node:N.rawNode,dragNode:g.rawNode,dropPosition:v}),Re()}}function rt(){Pe()}function it(){Pe()}function dt(t){var i;if(e.virtualScroll||e.internalScrollable){const{value:v}=l;if(!((i=v==null?void 0:v.containerRef)===null||i===void 0)&&i.contains(t.relatedTarget))return;oe.value=null}else{const{value:v}=a;if(v!=null&&v.contains(t.relatedTarget))return;oe.value=null}}Be(oe,t=>{var i,v;if(t!==null){if(e.virtualScroll)(i=d.value)===null||i===void 0||i.scrollTo({key:t});else if(e.internalScrollable){const{value:g}=l;if(g===null)return;const N=(v=g.contentRef)===null||v===void 0?void 0:v.querySelector(`[data-key="${Ln(t)}"]`);if(!N)return;g.scrollTo({el:N})}}}),on($e,{loadingKeysRef:fe,highlightKeySetRef:qe,displayedCheckedKeysRef:z,displayedIndeterminateKeysRef:D,mergedSelectedKeysRef:O,mergedExpandedKeysRef:L,mergedThemeRef:r,mergedCheckStrategyRef:R,nodePropsRef:E(e,"nodeProps"),disabledRef:E(e,"disabled"),checkableRef:E(e,"checkable"),selectableRef:E(e,"selectable"),onLoadRef:E(e,"onLoad"),draggableRef:E(e,"draggable"),blockLineRef:E(e,"blockLine"),indentRef:E(e,"indent"),cascadeRef:E(e,"cascade"),droppingMouseNodeRef:ve,droppingNodeParentRef:Ye,draggingNodeRef:de,droppingPositionRef:be,droppingOffsetLevelRef:ge,fNodesRef:P,pendingNodeKeyRef:oe,internalScrollableRef:E(e,"internalScrollable"),internalCheckboxFocusableRef:E(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:E(e,"renderLabel"),renderPrefixRef:E(e,"renderPrefix"),renderSuffixRef:E(e,"renderSuffix"),renderSwitcherIconRef:E(e,"renderSwitcherIcon"),labelFieldRef:E(e,"labelField"),multipleRef:E(e,"multiple"),handleSwitcherClick:sn,handleDragEnd:ot,handleDragEnter:et,handleDragLeave:nt,handleDragStart:at,handleDrop:lt,handleDragOver:cn,handleSelect:Qe,handleCheck:dn});const un={handleKeydown:He,handleKeyup:je},fn=T(()=>{const{common:{cubicBezierEaseInOut:t},self:{fontSize:i,nodeBorderRadius:v,nodeColorHover:g,nodeColorPressed:N,nodeColorActive:ne,arrowColor:V,loadingColor:Ne,nodeTextColor:ce,nodeTextColorDisabled:U,dropMarkColor:j}}=r.value;return{"--n-arrow-color":V,"--n-loading-color":Ne,"--n-bezier":t,"--n-font-size":i,"--n-node-border-radius":v,"--n-node-color-active":ne,"--n-node-color-hover":g,"--n-node-color-pressed":N,"--n-node-text-color":ce,"--n-node-text-color-disabled":U,"--n-drop-mark-color":j}}),ye=o?an("tree",void 0,fn,e):void 0;return{mergedClsPrefix:n,mergedTheme:r,fNodes:Un,aip:pe,selfElRef:a,virtualListInstRef:d,scrollbarInstRef:l,handleFocusout:dt,handleDragLeaveTree:tt,handleScroll:rt,getScrollContainer:s,getScrollContent:u,handleAfterEnter:Vn,handleResize:it,handleKeydown:un.handleKeydown,handleKeyup:un.handleKeyup,cssVars:o?void 0:fn,themeClass:ye==null?void 0:ye.themeClass,onRender:ye==null?void 0:ye.onRender}},render(){var e;const{fNodes:n,internalRenderEmpty:o}=this;if(!n.length&&o)return o();const{mergedClsPrefix:r,blockNode:a,blockLine:l,draggable:d,disabled:s,internalFocusable:u,checkable:f,handleKeyup:h,handleKeydown:k,handleFocusout:b}=this,c=u&&!s,m=c?"0":void 0,x=[`${r}-tree`,f&&`${r}-tree--checkable`,(l||a)&&`${r}-tree--block-node`,l&&`${r}-tree--block-line`],K=R=>"__motion"in R?y(Lo,{height:R.height,nodes:R.nodes,clsPrefix:r,mode:R.mode,onAfterEnter:this.handleAfterEnter}):y(Fn,{key:R.key,tmNode:R,clsPrefix:r});if(this.virtualScroll){const{mergedTheme:R,internalScrollablePadding:z}=this,D=$t(z||"0");return y(kn,{ref:"scrollbarInstRef",onDragleave:d?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:x,theme:R.peers.Scrollbar,themeOverrides:R.peerOverrides.Scrollbar,tabindex:m,onKeyup:c?h:void 0,onKeydown:c?k:void 0,onFocusout:c?b:void 0},{default:()=>{var S;return(S=this.onRender)===null||S===void 0||S.call(this),y(Ht,{ref:"virtualListInstRef",items:this.fNodes,itemSize:Oe,ignoreItemResize:this.aip,paddingTop:D.top,paddingBottom:D.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:D.left,paddingRight:D.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:_})=>K(_)})}})}const{internalScrollable:w}=this;return x.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),w?y(kn,{class:x,tabindex:m,onKeyup:c?h:void 0,onKeydown:c?k:void 0,onFocusout:c?b:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>y("div",{onDragleave:d?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(K))}):y("div",{class:x,tabindex:m,ref:"selfElRef",style:this.cssVars,onKeyup:c?h:void 0,onKeydown:c?k:void 0,onFocusout:c?b:void 0,onDragleave:d?this.handleDragLeaveTree:void 0},n.length?n.map(K):Et(this.$slots.empty,()=>{var R,z,D,S;return[y(Gt,{class:`${r}-tree__empty`,theme:(z=(R=this.theme)===null||R===void 0?void 0:R.peers)===null||z===void 0?void 0:z.Empty,themeOverrides:(S=(D=this.themeOverrides)===null||D===void 0?void 0:D.peers)===null||S===void 0?void 0:S.Empty})]}))}});const Bo={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Fo=re("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),Mo=[Fo];function Oo(e,n){return Q(),ue("svg",Bo,Mo)}var Uo={name:"ep-document",render:Oo};const Vo={class:"file"},jo={class:"file-content"},Ho={class:"icon"},Go=["src"],qo={key:1,class:"file"},Wo={class:"file-content"},Yo={class:"icon"},Xo=["src","alt"],Qo={props:{treeData:{type:Array,default:[]},fileData:{type:Object,default:[]},isModal:{type:Boolean,default:!1},showModal:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!1}},emits:["getId"],setup(e,{emit:n}){const o=e,r=E(o,"treeData"),a=E(o,"fileData"),l=A(null);function d({option:f}){return{onClick(){l.value=f.id,n("getId",f.id)}}}const s=A();function u(f){console.log(f.value)}return(f,h)=>{const k=Io,b=Uo,c=It,m=$n,x=so,K=fo,w=ao,R=wo,z=Ft,D=Mt;return e.isModal?(Q(),De(D,{key:0,show:e.showModal,"onUpdate:show":h[1]||(h[1]=S=>Bt(showModal)?showModal.value=S:null)},{default:H(()=>[G(z,{title:"\u6587\u4EF6\u7BA1\u7406",bordered:!1,"aria-modal":"true",class:"modal-container"},{default:H(()=>[re("div",Vo,[G(k,{"block-line":"",data:Fe(r),selectable:"",class:"file-tree","node-props":d,"virtual-scroll":""},null,8,["data"]),re("div",jo,[G(R,{show:e.showLoading},{default:H(()=>[xn(" id:"+Me(l.value)+" ",1),G(w,{value:s.value,"onUpdate:value":h[0]||(h[0]=S=>s.value=S)},{default:H(()=>[G(K,{cols:7,"x-gap":12,"y-gap":8},{default:H(()=>[(Q(!0),ue(Cn,null,wn(Fe(a),(S,_)=>(Q(),De(x,null,{default:H(()=>[G(m,{value:S.id,class:"file-item","onUpdate:value":u},{default:H(()=>[re("div",Ho,[S.imgUrl?(Q(),ue("img",{key:0,src:S.imgUrl,alt:""},null,8,Go)):(Q(),De(c,{key:1,size:"40"},{default:H(()=>[G(b)]),_:1}))]),re("span",null,Me(S.name),1)]),_:2},1032,["value"])]),_:2},1024))),256))]),_:1})]),_:1},8,["value"])]),_:1},8,["show"])])])]),_:1})]),_:1},8,["show"])):(Q(),ue("div",qo,[G(k,{class:"file-tree","block-line":"",data:Fe(r),"key-field":"id","label-field":"label","children-field":"children",selectable:"","node-props":d},null,8,["data"]),re("div",Wo,[G(R,{show:e.showLoading},{default:H(()=>[xn(" id:"+Me(l.value)+" ",1),G(w,{value:s.value,"onUpdate:value":h[2]||(h[2]=S=>s.value=S)},{default:H(()=>[G(K,{cols:7,"x-gap":12,"y-gap":8},{default:H(()=>[(Q(!0),ue(Cn,null,wn(Fe(a),(S,_)=>(Q(),De(x,null,{default:H(()=>[G(m,{value:S.id,class:"file-item","onUpdate:value":u},{default:H(()=>[re("div",Yo,[S.imgUrl?(Q(),ue("img",{key:0,src:S.imgUrl,alt:S.name},null,8,Xo)):(Q(),De(c,{key:1,size:"40"},{default:H(()=>[G(b)]),_:1}))]),re("span",null,Me(S.name),1)]),_:2},1032,["value"])]),_:2},1024))),256))]),_:1})]),_:1},8,["value"])]),_:1},8,["show"])])]))}}};var Zo=Pt(Qo,[["__scopeId","data-v-1e6fc488"]]);const ta={setup(e){const n=A([]);Tn(async()=>{const{data:l}=await Ot();n.value=l});const o=A({}),r=A(!1);async function a(l){r.value=!0;let{data:d}=await Vt();o.value=d,r.value=!1}return(l,d)=>{const s=Ut;return Q(),ue("div",null,[G(s,{position:"absolute","has-sider":""},{default:H(()=>[G(Zo,{"tree-data":n.value,"file-data":o.value,onGetId:a,"show-loading":r.value},null,8,["tree-data","file-data","show-loading"])]),_:1})])}}};export{ta as default};
