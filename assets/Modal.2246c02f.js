import{aa as ie,ab as I,P as x,a1 as N,ac as ae,ad as se,T as le,U as A,J as re,c as ce,ae as Re,af as de,v as E,a as O,b as y,x as F,z as Se,ag as Te,d as V,e as L,u as ue,f as z,i as ze,g as fe,h as l,ah as W,ai as S,N as Fe,p as X,aj as Y,ak as $e,I as J,S as Me,W as _e,E as je,a6 as Ie,al as Le,am as Ne,an as Ae,R as Z,O as D,a8 as he,a5 as j,ao as Ee,ap as De,aq as He,ar as Ke,as as Ve,at as qe,Y as H,a0 as G,au as Ue,av as We,$ as ve,aw as K,ax as Xe,ay as Ye,az as Je,aA as ge,aB as Q,aC as Ze,L as Ge,M as Qe,V as eo,X as oo,aD as $,Z as no}from"./index.7a98386c.js";const T=x(null);function ee(e){if(e.clientX>0||e.clientY>0)T.value={x:e.clientX,y:e.clientY};else{const{target:i}=e;if(i instanceof Element){const{left:t,top:r,width:d,height:u}=i.getBoundingClientRect();t>0||r>0?T.value={x:t+d/2,y:r+u/2}:T.value={x:0,y:0}}else T.value=null}}let M=0,oe=!0;function to(){if(!ie)return I(x(null));M===0&&N("click",document,ee,!0);const e=()=>{M+=1};return oe&&(oe=ae())?(se(e),le(()=>{M-=1,M===0&&A("click",document,ee,!0)})):e(),I(T)}const io=x(void 0);let _=0;function ne(){io.value=Date.now()}let te=!0;function ao(e){if(!ie)return I(x(!1));const i=x(!1);let t=null;function r(){t!==null&&window.clearTimeout(t)}function d(){r(),i.value=!0,t=window.setTimeout(()=>{i.value=!1},e)}_===0&&N("click",window,ne,!0);const u=()=>{_+=1,N("click",window,d,!0)};return te&&(te=ae())?(se(u),le(()=>{_-=1,_===0&&A("click",window,ne,!0),A("click",window,d,!0),r()})):u(),I(i)}var so={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"18px",closeMargin:"22px 28px 0 0",closeMarginIconTop:"12px 18px 0 0"};const lo=e=>{const{textColor1:i,textColor2:t,modalColor:r,closeColor:d,closeColorHover:u,closeColorPressed:g,infoColor:m,successColor:f,warningColor:p,errorColor:c,primaryColor:h,dividerColor:v,borderRadius:k,fontWeightStrong:B,lineHeight:b,fontSize:w}=e;return Object.assign(Object.assign({},so),{fontSize:w,lineHeight:b,border:`1px solid ${v}`,titleTextColor:i,textColor:t,color:r,closeColor:d,closeColorHover:u,closeColorPressed:g,iconColor:h,iconColorInfo:m,iconColorSuccess:f,iconColorWarning:p,iconColorError:c,borderRadius:k,titleFontWeight:B})},ro=re({name:"Dialog",common:ce,peers:{Button:Re},self:lo});var me=ro;const q={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,onPositiveClick:Function,onNegativeClick:Function,onClose:Function},co=de(q);var uo=E([O("dialog",`
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[y("icon",{color:"var(--n-icon-color)"}),F("bordered",{border:"var(--n-border)"}),F("icon-top",[y("close",{margin:"var(--n-close-margin)"}),y("icon",{margin:"var(--n-icon-margin)"}),y("content",{textAlign:"center"}),y("title",{justifyContent:"center"}),y("action",{justifyContent:"center"})]),F("icon-left",[y("icon",{margin:"var(--n-icon-margin)"})]),y("close",`
 font-size: var(--n-close-size);
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition: .3s color var(--n-bezier);
 z-index: 1;
 `),y("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[F("last","margin-bottom: 0;")]),y("action",`
 display: flex;
 justify-content: flex-end;
 `,[E("> *:not(:last-child)",{marginRight:"var(--n-action-space)"})]),y("icon",{fontSize:"var(--n-icon-size)",transition:"color .3s var(--n-bezier)"}),y("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),O("dialog-icon-container",{display:"flex",justifyContent:"center"})]),Se(O("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),O("dialog",[Te(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]);const fo={default:()=>l(J,null),info:()=>l(J,null),success:()=>l(Me,null),warning:()=>l(_e,null),error:()=>l(je,null)},ho=V({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},L.props),q),setup(e){const{mergedComponentPropsRef:i,mergedClsPrefixRef:t,inlineThemeDisabled:r}=ue(e),d=z(()=>{var h,v;const{iconPlacement:k}=e;return k||((v=(h=i==null?void 0:i.value)===null||h===void 0?void 0:h.Dialog)===null||v===void 0?void 0:v.iconPlacement)||"left"});function u(h){const{onPositiveClick:v}=e;v&&v(h)}function g(h){const{onNegativeClick:v}=e;v&&v(h)}function m(){const{onClose:h}=e;h&&h()}const f=L("Dialog","-dialog",uo,me,e,t),p=z(()=>{const{type:h}=e,v=d.value,{common:{cubicBezierEaseInOut:k},self:{fontSize:B,lineHeight:b,border:w,titleTextColor:s,textColor:a,color:C,closeColor:n,closeColorHover:o,closeColorPressed:P,borderRadius:R,titleFontWeight:pe,titleFontSize:Ce,padding:be,iconSize:ye,actionSpace:xe,contentMargin:ke,closeSize:we,[v==="top"?"iconMarginIconTop":"iconMargin"]:Pe,[v==="top"?"closeMarginIconTop":"closeMargin"]:Be,[ze("iconColor",h)]:Oe}}=f.value;return{"--n-font-size":B,"--n-icon-color":Oe,"--n-bezier":k,"--n-close-margin":Be,"--n-icon-margin":Pe,"--n-icon-size":ye,"--n-close-size":we,"--n-close-color":n,"--n-close-color-hover":o,"--n-close-color-pressed":P,"--n-color":C,"--n-text-color":a,"--n-border-radius":R,"--n-padding":be,"--n-line-height":b,"--n-border":w,"--n-content-margin":ke,"--n-title-font-size":Ce,"--n-title-font-weight":pe,"--n-title-text-color":s,"--n-action-space":xe}}),c=r?fe("dialog",z(()=>`${e.type[0]}${d.value[0]}`),p,e):void 0;return{mergedClsPrefix:t,mergedIconPlacement:d,mergedTheme:f,handlePositiveClick:u,handleNegativeClick:g,handleCloseClick:m,cssVars:r?void 0:p,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){var e;const{bordered:i,mergedIconPlacement:t,cssVars:r,closable:d,showIcon:u,title:g,content:m,action:f,negativeText:p,positiveText:c,positiveButtonProps:h,negativeButtonProps:v,handlePositiveClick:k,handleNegativeClick:B,mergedTheme:b,loading:w,type:s,mergedClsPrefix:a}=this;(e=this.onRender)===null||e===void 0||e.call(this);const C=u?l(Fe,{clsPrefix:a,class:`${a}-dialog__icon`},{default:()=>W(this.$slots.icon,o=>o||(this.icon?S(this.icon):fo[this.type]()))}):null,n=W(this.$slots.action,o=>o||c||p||f?l("div",{class:`${a}-dialog__action`},o||(f?[S(f)]:[this.negativeText&&l(X,Object.assign({theme:b.peers.Button,themeOverrides:b.peerOverrides.Button,ghost:!0,size:"small",onClick:B},v),{default:()=>S(this.negativeText)}),this.positiveText&&l(X,Object.assign({theme:b.peers.Button,themeOverrides:b.peerOverrides.Button,size:"small",type:s==="default"?"primary":s,disabled:w,loading:w,onClick:k},h),{default:()=>S(this.positiveText)})])):null);return l("div",{class:[`${a}-dialog`,this.themeClass,`${a}-dialog--icon-${t}`,i&&`${a}-dialog--bordered`],style:r,role:"dialog"},d?l($e,{clsPrefix:a,class:`${a}-dialog__close`,onClick:this.handleCloseClick}):null,u&&t==="top"?l("div",{class:`${a}-dialog-icon-container`},C):null,l("div",{class:`${a}-dialog__title`},u&&t==="left"?C:null,Y(this.$slots.header,()=>[S(g)])),l("div",{class:[`${a}-dialog__content`,n?"":`${a}-dialog__content--last`]},Y(this.$slots.default,()=>[S(m)])),n)}}),vo=Ie("n-dialog-provider"),go=e=>{const{modalColor:i,textColor2:t,boxShadow3:r}=e;return{color:i,textColor:t,boxShadow:r}},mo=re({name:"Modal",common:ce,peers:{Scrollbar:Le,Dialog:me,Card:Ne},self:go});var po=mo;const U=Object.assign(Object.assign({},Ae),q),Co=de(U);var bo=V({name:"ModalBody",inheritAttrs:!1,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0}},U),{onClickoutside:{type:Function,required:!0},onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(e){const i=x(null),t=x(null),r=x(e.show),d=x(null),u=x(null);Z(D(e,"show"),s=>{s&&(r.value=!0)});const g=he(ge);function m(){if(g.transformOriginRef.value==="center")return"";const{value:s}=d,{value:a}=u;if(s===null||a===null)return"";if(t.value){const C=t.value.containerScrollTop;return`${s}px ${a+C}px`}return""}function f(s){if(g.transformOriginRef.value==="center")return;const a=g.getMousePosition();if(!a||!t.value)return;const C=t.value.containerScrollTop,{offsetLeft:n,offsetTop:o}=s;if(a){const P=a.y,R=a.x;d.value=-(n-R),u.value=-(o-P-C)}s.style.transformOrigin=m()}function p(s){Q(()=>{f(s)})}function c(s){s.style.transformOrigin=m(),e.onBeforeLeave()}function h(){r.value=!1,d.value=null,u.value=null,e.onAfterLeave()}function v(){const{onClose:s}=e;s&&s()}function k(){e.onNegativeClick()}function B(){e.onPositiveClick()}function b(s){e.onClickoutside(s)}const w=x(null);return Z(w,s=>{s&&Q(()=>{const a=s.el;a&&i.value!==a&&(i.value=a)})}),j(Ze,i),j(Ee,null),j(De,null),{mergedTheme:g.mergedThemeRef,appear:g.appearRef,isMounted:g.isMountedRef,mergedClsPrefix:g.mergedClsPrefixRef,bodyRef:i,scrollbarRef:t,displayed:r,childNodeRef:w,handleClickOutside:b,handlePositiveClick:B,handleNegativeClick:k,handleCloseClick:v,handleAfterLeave:h,handleBeforeLeave:c,handleEnter:p}},render(){const{$slots:e,$attrs:i,handleEnter:t,handleAfterLeave:r,handleBeforeLeave:d,handleClickOutside:u,preset:g,mergedClsPrefix:m}=this;let f=null;if(!g){if(f=He(e),!f){Ke("modal","default slot is empty");return}f=Ve(f),f.props=qe({class:`${m}-modal`},i,f.props||{})}return this.displayDirective==="show"||this.displayed||this.show?H(l("div",{role:"none",class:`${m}-modal-body-wrapper`},l(Ue,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${m}-modal-scroll-content`},{default:()=>l(We,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var p;return l(ve,{name:"fade-in-scale-up-transition",appear:(p=this.appear)!==null&&p!==void 0?p:this.isMounted,onEnter:t,onAfterEnter:this.onAfterEnter,onAfterLeave:r,onBeforeLeave:d},{default:()=>H(this.preset==="confirm"||this.preset==="dialog"?l(ho,Object.assign({},this.$attrs,{class:[`${m}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},K(this.$props,co),{"aria-modal":"true"}),e):this.preset==="card"?l(Xe,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${m}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},K(this.$props,Ye),{"aria-modal":"true",role:"dialog"}),e):this.childNodeRef=f,[[G,this.show],[Je,u,void 0,{capture:!0}]])})}})})),[[G,this.displayDirective==="if"||this.displayed||this.show]]):null}}),yo=E([O("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),O("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[Ge({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),O("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[O("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `)]),O("modal",`
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[Qe({duration:".25s",enterScale:".5"})])]);const xo=Object.assign(Object.assign(Object.assign(Object.assign({},L.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0}}),U),{onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function});var wo=V({name:"Modal",inheritAttrs:!1,props:xo,setup(e){const i=x(null),{mergedClsPrefixRef:t,namespaceRef:r,inlineThemeDisabled:d}=ue(e),u=L("Modal","-modal",yo,po,e,t),g=ao(64),m=to(),f=eo(),p=e.internalDialog?he(vo,null):null;function c(n){const{onUpdateShow:o,"onUpdate:show":P,onHide:R}=e;o&&$(o,n),P&&$(P,n),R&&!n&&R(n)}function h(){const{onClose:n}=e;n?Promise.resolve(n()).then(o=>{o!==!1&&c(!1)}):c(!1)}function v(){const{onPositiveClick:n}=e;n?Promise.resolve(n()).then(o=>{o!==!1&&c(!1)}):c(!1)}function k(){const{onNegativeClick:n}=e;n?Promise.resolve(n()).then(o=>{o!==!1&&c(!1)}):c(!1)}function B(){const{onBeforeLeave:n,onBeforeHide:o}=e;n&&$(n),o&&o()}function b(){const{onAfterLeave:n,onAfterHide:o}=e;n&&$(n),o&&o()}function w(n){var o;const{onMaskClick:P}=e;P&&P(n),e.maskClosable&&!((o=i.value)===null||o===void 0)&&o.contains(n.target)&&c(!1)}function s(n){var o;(o=e.onEsc)===null||o===void 0||o.call(e),e.closeOnEsc&&c(!1)}j(ge,{getMousePosition:()=>{if(p){const{clickedRef:n,clickPositionRef:o}=p;if(n.value&&o.value)return o.value}return g.value?m.value:null},mergedClsPrefixRef:t,mergedThemeRef:u,isMountedRef:f,appearRef:D(e,"internalAppear"),transformOriginRef:D(e,"transformOrigin")});const a=z(()=>{const{common:{cubicBezierEaseOut:n},self:{boxShadow:o,color:P,textColor:R}}=u.value;return{"--n-bezier-ease-out":n,"--n-box-shadow":o,"--n-color":P,"--n-text-color":R}}),C=d?fe("theme-class",void 0,a,e):void 0;return{mergedClsPrefix:t,namespace:r,isMounted:f,containerRef:i,presetProps:z(()=>K(e,Co)),handleEsc:s,handleAfterLeave:b,handleClickoutside:w,handleBeforeLeave:B,doUpdateShow:c,handleNegativeClick:k,handlePositiveClick:v,handleCloseClick:h,cssVars:d?void 0:a,themeClass:C==null?void 0:C.themeClass,onRender:C==null?void 0:C.onRender}},render(){const{mergedClsPrefix:e}=this;return l(oo,{to:this.to,show:this.show},{default:()=>{var i,t;return(i=this.onRender)===null||i===void 0||i.call(this),H(l("div",{role:"none",ref:"containerRef",class:[`${e}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},this.unstableShowMask?l(ve,{name:"fade-in-transition",key:"mask",appear:(t=this.internalAppear)!==null&&t!==void 0?t:this.isMounted},{default:()=>this.show?l("div",{"aria-hidden":!0,ref:"containerRef",class:`${e}-modal-mask`}):null}):null,l(bo,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:this.handleClickoutside}),this.$slots)),[[no,{zIndex:this.zIndex,enabled:this.show}]])}})}});export{wo as _};
